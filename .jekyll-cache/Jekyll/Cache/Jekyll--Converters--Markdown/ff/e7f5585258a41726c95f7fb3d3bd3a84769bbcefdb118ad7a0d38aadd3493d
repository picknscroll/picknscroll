I"F	<script src="https://code.highcharts.com/highcharts.js"></script>

<script src="https://code.highcharts.com/highcharts-more.js"></script>

<script src="https://code.highcharts.com/modules/exporting.js"></script>

<style>

  @media (max-width: 640px) {
    .text {
      width: 90%;
    }
  }

  #contentContainer {
    width: 100%;
  }

  .xAxis text {
    font-size: 11px;
  }

  .yAxis text {
    font-size: 11px;
  }

  .xAxis .tick line {
    visibility: hidden;
  }

  .capLine line {
    stroke-width: 3px;
    stroke: orange;
  }

  #taxLine {
    stroke-dasharray: 5px;
  }

  .capLine text {
    stroke: black;
    stroke-width: .3px;
  }

  .fa {
    display: inline-block;
  }

  #salaryContainer {
    width: 90%;
    margin: auto;
  }

  .text {
    max-width: 800px;
    margin: 20px auto;
  }

  #boxContainer {
    height: 400px;
    margin: 20px auto;
    min-width: 300px;
    max-width: 700px;
  }


</style>

<body>
<div id="contentContainer">
<div class="text">
  As the shirts say, Basketball Never Stops - and the NBA is no exception. The finals start in early June. Almost immediately after the trophy is hoisted, the draft is held in New York. Free agency begins shortly thereafter. Trades happen throughout this time span, and before you know it, teams are playing pre-season games.

  <br /><br />
  So with the start of 2017-18 season imminent, what better time than now to look ahead to next summer's free agent market? But before we do that, let's take a look at this year's free agent market and how it compares to the largess of 2016.

  <h4>A Quick Recap</h4>

  The 2016 off-season will be remembered as a seminal event in NBA history. A large spike in the salary cap meant that almost every team suddenly found themselves with lots of cap space to sign free agents.
  That space allowed the Warriors to sign Kevin Durant, a move that disrupted the entire competitive balance of the league and ignited this summer's migration of superstars. It also led other teams giving exorbitant contracts to middling players (Joakim Noah, Timofey Mozgov, Evan Turner, etc.) that will haunt them for the next couple of years.

  <br /><br />

  With less cap space available than in 2016, the median of total contract money awarded this summer decreased by approximately 37% compared to those of last year.

</div>

<div id="boxContainer"></div>

<div class="text">
  So what does the free agent market look like in 2018?

  <h4>Cap Space in 2018: An Interactive Visualization</h4>

  The chart below shows the money that each team has committed to its players for the 2018 season (data courtesy of <a href="https://www.basketball-reference.com/contracts/">basketball-reference.com</a>). Click on each team's bar to drill-down into how that money is distributed across the team's players. Click on the "Add Free Agents" text to see what each team's total salary would look like if they re-signed all their free agents at their previous year's salaries.

</div>

<div id="salaryContainer">
  <svg id="salary"></svg>
</div>

<div class="text">
  <h3>Observations</h3>

  <ul>
    <li>
      The Utah Jazz have some interesting choices to make. Free agents Derrick Favors and Rodney Hood project to demand more money than they are currently making (Hood especially). The Jazz have their bird rights, but how much will they be willing to spend? The answer to these tough questions will depend largely on how good the Jazz look this year.
    </li>
    <li>What will the New Orleans Pelicans do with DeMarcus Cousins? Resigning Cousins might propel the Pelicans to the luxury tax, and I personally don't think the Pelicans will be good enough this year to warrant such a salary.
    </li>
    <li>
    How much will the Milwaukee Bucks pay Jabari Parker? Behind the dramatic rise of the Greek Freak, the Bucks are just beginning to get good. When healthy, Parker is a rare talent, but he'll be recovering from his second ACL surgery. Definitely a situation worth keeping an eye on.
    </li>
    <li>
      Will the Philadelphia 76ers go after anyone big? They will use some of their cap space on Joel Embiid and Robert Covington, but what will they do with the remainder? Is their tantalizing young core enough to attract a star?
    </li>

  </ul>

  Looking ahead to the 2018 off-season has only increased my excitement for this upcoming season. Let the games begin!

</div>
</div>
</body>

<script>

  // Highcharts box-chart
  Highcharts.chart('boxContainer', {

    chart: {type: 'boxplot'},
    title: {text: 'Total Contract Value by Year'},
    legend: {enabled: false},
    xAxis: {
        categories: [2016, 2017],
        title: {
            text: 'Year'
        }
    },
    yAxis: {
        title: {
            text: 'Total Contract Value (in millions)'
        },
        tickInterval: 20,
        gridLineWidth: 0,
        min: 0,
        max: 220
    },
    plotOptions: {
      boxplot: {
              fillColor: '#F0F0E0',
              lineWidth: 3,
              medianColor: '#0C5DA5',
              medianWidth: 3,
              stemColor: '#A63400',
              stemDashStyle: 'dot',
              stemWidth: 1,
              whiskerColor: '#3D9200',
              whiskerLength: '20%',
              whiskerWidth: 3
          }
    },

    series: [{
        name: 'Contracts',
        maxPointWidth: 60,
        data: [
          [1.0, 4.3, 16, 47, 153],
          [1.5, 3.1, 10.85, 32, 201]
        ],
        tooltip: {
            headerFormat: '<em>{point.key}</em><br/>'
        }
    }]

  });

  // utility functions
  function sum( obj ) {
    var sum = 0;
    for ( var el in obj ) {
      if (obj.hasOwnProperty(el)) sum += parseFloat( obj[el] );
    }
    return sum;
  }

  function translate(x, y) {return "translate(" + x + "," + y + ")";}

  function toStack(keys) {
    var salaryStack = d3.stack().keys(keys).order(d3.stackOrderNone).offset(d3.stackOffsetNone);
    return salaryStack(data.map(d => d.salary));
  }

  function toId(name) {return name.replace(' ', '_');}

  function extractFASalary(d) {
    return d.freeAgents.map(d => d.salary).reduce((a, b) => a + b);
  }

  function extractNonFASalary(teamdata) {
    let s = 0;
    optionKeys.forEach(d => s += teamdata.salary[d]);
    return s;
  }

  // set-up margins for salary svg
  var margin = {top: 25, right: 60, bottom: 125, left: 60},
    width = $('#salaryContainer').width() - margin.left - margin.right,
    height = 600 - margin.top - margin.bottom;

  var salarySvg = d3.select("svg#salary")
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)

  // set-up the graph container
  var graphContainer = salarySvg.append("g")
                                .attr("transform", translate(margin.left, margin.top))

  // set up axises
  var salaryToY = d3.scaleLinear().range([height, 0]);
  salarySvg.append("g")
           .attr("transform", translate(margin.left, margin.top))
           .attr("class", "yAxis")

  var xAxis = d3.scaleBand().rangeRound([0, width]).padding(0.15).align(0.1);
  salarySvg.append("g")
             .attr("class", "xAxis")
             .attr("transform", translate(margin.left, height + margin.top))

  // set up the change controller
  var changeController = graphContainer.append("text")
                    .attr("id", "changeController")
                    .attr("transform", translate(10, 25))
                    .style("cursor", "pointer")

    /* Config variables */
  var duration = 750;
  var axisPadding = 5000000;
  var scale = 1.0;
  let projectedCap = 103000000;
  var optionKeys = ["guaranteed", "player-option", "team-option", "stretched"];
  var optionColors = ['#53802c', '#86af49', '#b5e7a0', '#e3eaa7'];
  var includeFA = false;
  var optionKeysFA = ["guaranteed", "player-option", "team-option", "stretched", "free-agent"];
  var optionColorsFA = ['#53802c', '#86af49', '#b5e7a0', '#e3eaa7', 'grey'];

  var optionsToColors = d3.scaleOrdinal().range(optionColors).domain(optionKeys);
  var optionsToColorsFA = d3.scaleOrdinal().range(optionColorsFA).domain(optionKeysFA);

  var data = [{"salary":{"team-option":0,"free-agent":22573521,"guaranteed":81660146,"stretched":815615,"player-option":46619202},"players":[{"salary":35607968,"player_status":"active","name":"LeBron James","option":"player-option"},{"salary":24119025,"player_status":"active","name":"Kevin Love","option":"guaranteed"},{"salary":17469565,"player_status":"active","name":"Tristan Thompson","option":"guaranteed"},{"salary":14720000,"player_status":"active","name":"J.R. Smith","option":"guaranteed"},{"salary":11011234,"player_status":"active","name":"Iman Shumpert","option":"player-option"},{"salary":7560000,"player_status":"active","name":"Kyle Korver","option":"guaranteed"},{"salary":7305825,"player_status":"active","name":"Jae Crowder","option":"guaranteed"},{"salary":2775000,"player_status":"active","name":"Cedi Osman","option":"guaranteed"},{"salary":2612500,"player_status":"active","name":"Richard Jefferson","option":"guaranteed"},{"salary":1952760,"player_status":"active","name":"Ante Zizic","option":"guaranteed"},{"salary":1600520,"player_status":"active","name":"Edy Tavares","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Kay Felder","option":"guaranteed"}],"freeAgents":[{"salary":7420912,"player_status":"active","name":"Channing Frye","option":"free-agent"},{"salary":6261395,"player_status":"active","name":"Isaiah Thomas","option":"free-agent"},{"salary":2328652,"player_status":"active","name":"Jose Calderon","option":"free-agent"},{"salary":2328652,"player_status":"active","name":"Dwyane Wade","option":"free-agent"},{"salary":2116955,"player_status":"active","name":"Derrick Rose","option":"free-agent"},{"salary":2116955,"player_status":"active","name":"Jeff Green","option":"free-agent"}],"name":"CLE"},{"salary":{"team-option":2243326,"free-agent":7812839,"guaranteed":90452172,"stretched":2442455,"player-option":48631524},"players":[{"salary":35350000,"player_status":"active","name":"Russell Westbrook","option":"guaranteed"},{"salary":27928140,"player_status":"active","name":"Carmelo Anthony","option":"player-option"},{"salary":24157303,"player_status":"active","name":"Steven Adams","option":"guaranteed"},{"salary":20703384,"player_status":"active","name":"Paul George","option":"player-option"},{"salary":10000000,"player_status":"active","name":"Andre Roberson","option":"guaranteed"},{"salary":5455236,"player_status":"active","name":"Alex Abrines","option":"guaranteed"},{"salary":5451600,"player_status":"active","name":"Patrick Patterson","option":"guaranteed"},{"salary":4996000,"player_status":"active","name":"Kyle Singler","option":"guaranteed"},{"salary":2243326,"player_status":"active","name":"Josh Huestis","option":"team-option"},{"salary":2118840,"player_status":"active","name":"Terrance Ferguson","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Semaj Christon","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Dakari Johnson","option":"guaranteed"}],"freeAgents":[{"salary":2328652,"player_status":"active","name":"Nick Collison","option":"free-agent"},{"salary":2328652,"player_status":"active","name":"Raymond Felton","option":"free-agent"},{"salary":1524305,"player_status":"active","name":"Jerami Grant","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Bryce Alford","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Rashawn Thomas","option":"free-agent"}],"name":"OKC"},{"salary":{"team-option":3772032,"free-agent":20790740,"guaranteed":99601388,"stretched":945126,"player-option":26250000},"players":[{"salary":37457154,"player_status":"active","name":"Stephen Curry","option":"guaranteed"},{"salary":26250000,"player_status":"active","name":"Kevin Durant","option":"player-option"},{"salary":18988725,"player_status":"active","name":"Klay Thompson","option":"guaranteed"},{"salary":17469565,"player_status":"active","name":"Draymond Green","option":"guaranteed"},{"salary":16000000,"player_status":"active","name":"Andre Iguodala","option":"guaranteed"},{"salary":8307692,"player_status":"active","name":"Shaun Livingston","option":"guaranteed"},{"salary":2227081,"player_status":"active","name":"Kevon Looney","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Damian Jones","option":"team-option"},{"salary":1378252,"player_status":"active","name":"Jordan Bell","option":"guaranteed"},{"salary":945126,"player_status":"not-active","name":"Jason Thompson","option":"stretched"}],"freeAgents":[{"salary":5192000,"player_status":"active","name":"Nick Young","option":"free-agent"},{"salary":3477600,"player_status":"active","name":"Zaza Pachulia","option":"free-agent"},{"salary":2328652,"player_status":"active","name":"David West","option":"free-agent"},{"salary":2116955,"player_status":"active","name":"JaVale McGee","option":"free-agent"},{"salary":2106470,"player_status":"active","name":"Omri Casspi","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Patrick McCaw","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Georges Niang","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Michael Gbinije","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Antonius Cleveland","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Alex Hamilton","option":"free-agent"}],"name":"GSW"},{"salary":{"team-option":5451956,"free-agent":8044298,"guaranteed":113399486,"stretched":830000,"player-option":8904500},"players":[{"salary":26011913,"player_status":"active","name":"Otto Porter","option":"guaranteed"},{"salary":25434263,"player_status":"active","name":"Bradley Beal","option":"guaranteed"},{"salary":19169800,"player_status":"active","name":"John Wall","option":"guaranteed"},{"salary":15944154,"player_status":"active","name":"Ian Mahinmi","option":"guaranteed"},{"salary":13565218,"player_status":"active","name":"Marcin Gortat","option":"guaranteed"},{"salary":8600000,"player_status":"active","name":"Markieff Morris","option":"guaranteed"},{"salary":5450000,"player_status":"active","name":"Jason Smith","option":"player-option"},{"salary":3454500,"player_status":"active","name":"Jodie Meeks","option":"player-option"},{"salary":3208630,"player_status":"active","name":"Kelly Oubre","option":"team-option"},{"salary":3129187,"player_status":"active","name":"Tomas Satoransky","option":"guaranteed"},{"salary":2243326,"player_status":"active","name":"Chris McCullough","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Daniel Ochefu","option":"guaranteed"},{"salary":830000,"player_status":"not-active","name":"Martell Webster","option":"stretched"}],"freeAgents":[{"salary":2000000,"player_status":"active","name":"Tim Frazier","option":"free-agent"},{"salary":1709538,"player_status":"active","name":"Donald Sloan","option":"free-agent"},{"salary":1709538,"player_status":"active","name":"Mike Scott","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Sheldon Mac","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Carrick Felix","option":"free-agent"}],"name":"WAS"},{"salary":{"team-option":1600520,"free-agent":11542493,"guaranteed":118922703,"stretched":0,"player-option":0},"players":[{"salary":25434263,"player_status":"active","name":"Hassan Whiteside","option":"guaranteed"},{"salary":19245370,"player_status":"active","name":"Tyler Johnson","option":"guaranteed"},{"salary":18109175,"player_status":"active","name":"Goran Dragic","option":"guaranteed"},{"salary":14651700,"player_status":"active","name":"James Johnson","option":"guaranteed"},{"salary":11550000,"player_status":"active","name":"Dion Waiters","option":"guaranteed"},{"salary":11137527,"player_status":"active","name":"Kelly Olynyk","option":"guaranteed"},{"salary":9300000,"player_status":"active","name":"Josh Richardson","option":"guaranteed"},{"salary":3448926,"player_status":"active","name":"Justise Winslow","option":"guaranteed"},{"salary":2955840,"player_status":"active","name":"Bam Adebayo","option":"guaranteed"},{"salary":1600520,"player_status":"active","name":"Jordan Mickey","option":"team-option"},{"salary":1544951,"player_status":"active","name":"A.J. Hammons","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Rodney McGruder","option":"guaranteed"}],"freeAgents":[{"salary":6270000,"player_status":"active","name":"Wayne Ellington","option":"free-agent"},{"salary":2328652,"player_status":"active","name":"Udonis Haslem","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Okaro White","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Matt Williams","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Erik McCree","option":"free-agent"}],"name":"MIA"},{"salary":{"team-option":4305046,"free-agent":13808068,"guaranteed":61245023,"stretched":2557001,"player-option":49203025},"players":[{"salary":31873932,"player_status":"active","name":"Blake Griffin","option":"guaranteed"},{"salary":24119025,"player_status":"active","name":"DeAndre Jordan","option":"player-option"},{"salary":21587579,"player_status":"active","name":"Danilo Gallinari","option":"guaranteed"},{"salary":12650000,"player_status":"active","name":"Austin Rivers","option":"player-option"},{"salary":6300000,"player_status":"active","name":"Milos Teodosic","option":"player-option"},{"salary":6134000,"player_status":"active","name":"Wesley Johnson","option":"player-option"},{"salary":5027028,"player_status":"active","name":"Patrick Beverley","option":"guaranteed"},{"salary":2760095,"player_status":"active","name":"Sam Dekker","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Brice Johnson","option":"team-option"},{"salary":1378242,"player_status":"active","name":"Sindarius Thornwell","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Jawun Evans","option":"guaranteed"},{"salary":650000,"player_status":"not-active","name":"Carlos Delfino","option":"stretched"},{"salary":300000,"player_status":"not-active","name":"Miroslav Raduljica","option":"stretched"}],"freeAgents":[{"salary":7000000,"player_status":"active","name":"Lou Williams","option":"free-agent"},{"salary":1577230,"player_status":"active","name":"Willie Reed","option":"free-agent"},{"salary":1471382,"player_status":"active","name":"Montrezl Harrell","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Marshall Plumlee","option":"free-agent"},{"salary":815615,"player_status":"active","name":"LaDontae Henton","option":"free-agent"},{"salary":815615,"player_status":"active","name":"C.J. Williams","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Tyrone Wallace","option":"free-agent"}],"name":"LAC"},{"salary":{"team-option":0,"free-agent":19030656,"guaranteed":106909868,"stretched":5091107,"player-option":0},"players":[{"salary":27977689,"player_status":"active","name":"Damian Lillard","option":"guaranteed"},{"salary":25759766,"player_status":"active","name":"C.J. McCollum","option":"guaranteed"},{"salary":17868852,"player_status":"active","name":"Evan Turner","option":"guaranteed"},{"salary":10837079,"player_status":"active","name":"Maurice Harkless","option":"guaranteed"},{"salary":10595506,"player_status":"active","name":"Meyers Leonard","option":"guaranteed"},{"salary":6957105,"player_status":"active","name":"Al-Farouq Aminu","option":"guaranteed"},{"salary":3628920,"player_status":"active","name":"Zach Collins","option":"guaranteed"},{"salary":2844429,"player_status":"not-active","name":"Andrew Nicholson","option":"stretched"},{"salary":1913345,"player_status":"not-active","name":"Anderson Varejao","option":"stretched"},{"salary":1740000,"player_status":"active","name":"Caleb Swanigan","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Jake Layman","option":"guaranteed"},{"salary":333333,"player_status":"not-active","name":"Festus Ezeli","option":"stretched"}],"freeAgents":[{"salary":6352531,"player_status":"active","name":"Ed Davis","option":"free-agent"},{"salary":3505233,"player_status":"active","name":"Noah Vonleh","option":"free-agent"},{"salary":2947305,"player_status":"active","name":"Jusuf Nurkic","option":"free-agent"},{"salary":2361360,"player_status":"active","name":"Shabazz Napier","option":"free-agent"},{"salary":1577230,"player_status":"active","name":"Archie Goodwin","option":"free-agent"},{"salary":1471382,"player_status":"active","name":"Pat Connaughton","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Isaiah Briscoe","option":"free-agent"}],"name":"POR"},{"salary":{"team-option":7029169,"free-agent":11835054,"guaranteed":108610303,"stretched":1000000,"player-option":0},"players":[{"salary":31000000,"player_status":"active","name":"Kyle Lowry","option":"guaranteed"},{"salary":27739975,"player_status":"active","name":"DeMar DeRozan","option":"guaranteed"},{"salary":21666667,"player_status":"active","name":"Serge Ibaka","option":"guaranteed"},{"salary":16539326,"player_status":"active","name":"Jonas Valanciunas","option":"guaranteed"},{"salary":8333333,"player_status":"active","name":"C.J. Miles","option":"guaranteed"},{"salary":2947320,"player_status":"active","name":"Jakob Poeltl","option":"team-option"},{"salary":2536898,"player_status":"active","name":"Delon Wright","option":"team-option"},{"salary":1952760,"player_status":"active","name":"OG Anunoby","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Pascal Siakam","option":"team-option"},{"salary":1378242,"player_status":"active","name":"Alfonzo McKinnie","option":"guaranteed"},{"salary":1000000,"player_status":"not-active","name":"Justin Hamilton","option":"stretched"}],"freeAgents":[{"salary":2947305,"player_status":"active","name":"Lucas Nogueira","option":"free-agent"},{"salary":2451225,"player_status":"active","name":"Bruno Caboclo","option":"free-agent"},{"salary":1524305,"player_status":"active","name":"K.J. McDaniels","option":"free-agent"},{"salary":1471382,"player_status":"active","name":"Norman Powell","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Fred VanVleet","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Kyle Wiltjer","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Kennedy Meeks","option":"free-agent"}],"name":"TOR"},{"salary":{"team-option":3627842,"free-agent":8799376,"guaranteed":114405501,"stretched":0,"player-option":0},"players":[{"salary":24000000,"player_status":"active","name":"Nicolas Batum","option":"guaranteed"},{"salary":23819725,"player_status":"active","name":"Dwight Howard","option":"guaranteed"},{"salary":14087500,"player_status":"active","name":"Marvin Williams","option":"guaranteed"},{"salary":13528090,"player_status":"active","name":"Cody Zeller","option":"guaranteed"},{"salary":13000000,"player_status":"active","name":"Michael Kidd-Gilchrist","option":"guaranteed"},{"salary":12000000,"player_status":"active","name":"Kemba Walker","option":"guaranteed"},{"salary":7488372,"player_status":"active","name":"Jeremy Lamb","option":"guaranteed"},{"salary":3627842,"player_status":"active","name":"Frank Kaminsky","option":"team-option"},{"salary":3447480,"player_status":"active","name":"Malik Monk","option":"guaranteed"},{"salary":1656092,"player_status":"active","name":"Julyan Stone","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Dwayne Bacon","option":"guaranteed"}],"freeAgents":[{"salary":2700000,"player_status":"active","name":"Michael Carter-Williams","option":"free-agent"},{"salary":1524305,"player_status":"active","name":"Johnny O'Bryant","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Treveon Graham","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Terry Henderson","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Isaiah Hicks","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Luke Petrasek","option":"free-agent"},{"salary":815615,"player_status":"active","name":"T.J. Williams","option":"free-agent"}],"name":"CHO"},{"salary":{"team-option":0,"free-agent":41890108,"guaranteed":83366129,"stretched":1544951,"player-option":0},"players":[{"salary":30431854,"player_status":"active","name":"James Harden","option":"guaranteed"},{"salary":20421546,"player_status":"active","name":"Ryan Anderson","option":"guaranteed"},{"salary":13500375,"player_status":"active","name":"Eric Gordon","option":"guaranteed"},{"salary":7969537,"player_status":"active","name":"P.J. Tucker","option":"guaranteed"},{"salary":3651480,"player_status":"active","name":"Nene Hilario","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Troy Williams","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Isaiah Taylor","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Chinanu Onuaku","option":"guaranteed"},{"salary":1544951,"player_status":"not-active","name":"Shawn Long","option":"stretched"},{"salary":1378242,"player_status":"active","name":"Zhou Qi","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Cameron Oliver","option":"guaranteed"}],"freeAgents":[{"salary":24599495,"player_status":"active","name":"Chris Paul","option":"free-agent"},{"salary":7420912,"player_status":"active","name":"Trevor Ariza","option":"free-agent"},{"salary":3290000,"player_status":"active","name":"Tarik Black","option":"free-agent"},{"salary":2334520,"player_status":"active","name":"Clint Capela","option":"free-agent"},{"salary":2116955,"player_status":"active","name":"Luc Mbah a Moute","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Tim Quarterman","option":"free-agent"},{"salary":815615,"player_status":"active","name":"George de Paula","option":"free-agent"}],"name":"HOU"},{"salary":{"team-option":5701285,"free-agent":28307831,"guaranteed":83906885,"stretched":8752337,"player-option":0},"players":[{"salary":24157303,"player_status":"active","name":"Giannis Antetokounmpo","option":"guaranteed"},{"salary":13000000,"player_status":"active","name":"Khris Middleton","option":"guaranteed"},{"salary":10607143,"player_status":"active","name":"Tony Snell","option":"guaranteed"},{"salary":10577466,"player_status":"active","name":"John Henson","option":"guaranteed"},{"salary":10500000,"player_status":"active","name":"Mirza Teletovic","option":"guaranteed"},{"salary":9607500,"player_status":"active","name":"Matthew Dellavedova","option":"guaranteed"},{"salary":2901565,"player_status":"active","name":"Rashad Vaughn","option":"team-option"},{"salary":2799720,"player_status":"active","name":"Thon Maker","option":"team-option"},{"salary":2534280,"player_status":"active","name":"D.J. Wilson","option":"guaranteed"},{"salary":1865547,"player_status":"not-active","name":"Larry Sanders","option":"stretched"},{"salary":1544951,"player_status":"active","name":"Malcolm Brogdon","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Sterling Brown","option":"guaranteed"}],"freeAgents":[{"salary":17884176,"player_status":"active","name":"Greg Monroe","option":"free-agent"},{"salary":6782392,"player_status":"active","name":"Jabari Parker","option":"free-agent"},{"salary":2328652,"player_status":"active","name":"Jason Terry","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Gary Payton","option":"free-agent"}],"name":"MIL"},{"salary":{"team-option":0,"free-agent":28474923,"guaranteed":94827090,"stretched":50000,"player-option":0},"players":[{"salary":26131111,"player_status":"active","name":"Jrue Holiday","option":"guaranteed"},{"salary":25434263,"player_status":"active","name":"Anthony Davis","option":"guaranteed"},{"salary":12752928,"player_status":"active","name":"Solomon Hill","option":"guaranteed"},{"salary":11286516,"player_status":"active","name":"Omer Asik","option":"guaranteed"},{"salary":8808685,"player_status":"active","name":"E'Twaun Moore","option":"guaranteed"},{"salary":5285394,"player_status":"active","name":"Alexis Ajinca","option":"guaranteed"},{"salary":2205000,"player_status":"active","name":"Darius Miller","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Cheick Diallo","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Frank Jackson","option":"guaranteed"}],"freeAgents":[{"salary":18063850,"player_status":"active","name":"DeMarcus Cousins","option":"free-agent"},{"salary":3300000,"player_status":"active","name":"Rajon Rondo","option":"free-agent"},{"salary":2300000,"player_status":"active","name":"Dante Cunningham","option":"free-agent"},{"salary":1709538,"player_status":"active","name":"Jordan Crawford","option":"free-agent"},{"salary":1577230,"player_status":"active","name":"Ian Clark","option":"free-agent"},{"salary":1524305,"player_status":"active","name":"Perry Jones","option":"free-agent"}],"name":"NOP"},{"salary":{"team-option":1544951,"free-agent":21861282,"guaranteed":53216020,"stretched":2916450,"player-option":42829407},"players":[{"salary":22347015,"player_status":"active","name":"LaMarcus Aldridge","option":"player-option"},{"salary":20099189,"player_status":"active","name":"Kawhi Leonard","option":"guaranteed"},{"salary":16000000,"player_status":"active","name":"Pau Gasol","option":"guaranteed"},{"salary":11571429,"player_status":"active","name":"Patty Mills","option":"guaranteed"},{"salary":10000000,"player_status":"active","name":"Danny Green","option":"player-option"},{"salary":8826300,"player_status":"active","name":"Rudy Gay","option":"player-option"},{"salary":2500000,"player_status":"active","name":"Manu Ginobili","option":"guaranteed"},{"salary":1881250,"player_status":"not-active","name":"Tim Duncan","option":"stretched"},{"salary":1667160,"player_status":"active","name":"Derrick White","option":"guaranteed"},{"salary":1656092,"player_status":"active","name":"Joffrey Lauvergne","option":"player-option"},{"salary":1544951,"player_status":"active","name":"Dejounte Murray","option":"team-option"},{"salary":1378242,"player_status":"active","name":"Brandon Paul","option":"guaranteed"}],"freeAgents":[{"salary":15453126,"player_status":"active","name":"Tony Parker","option":"free-agent"},{"salary":2151704,"player_status":"active","name":"Kyle Anderson","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Bryn Forbes","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Davis Bertans","option":"free-agent"},{"salary":815615,"player_status":"active","name":"London Perrantes","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Amida Brimah","option":"free-agent"}],"name":"SAS"},{"salary":{"team-option":10283488,"free-agent":14468162,"guaranteed":78240187,"stretched":12960305,"player-option":6339415},"players":[{"salary":20445779,"player_status":"active","name":"Jimmy Butler","option":"guaranteed"},{"salary":19000000,"player_status":"active","name":"Jeff Teague","option":"guaranteed"},{"salary":15170787,"player_status":"active","name":"Gorgui Dieng","option":"guaranteed"},{"salary":14000000,"player_status":"active","name":"Taj Gibson","option":"guaranteed"},{"salary":7839435,"player_status":"active","name":"Karl-Anthony Towns","option":"team-option"},{"salary":6956021,"player_status":"active","name":"Cole Aldrich","option":"guaranteed"},{"salary":4544400,"player_status":"active","name":"Jamal Crawford","option":"player-option"},{"salary":2667600,"player_status":"active","name":"Justin Patton","option":"guaranteed"},{"salary":2444053,"player_status":"active","name":"Tyus Jones","option":"team-option"},{"salary":1795015,"player_status":"active","name":"Shabazz Muhammad","option":"player-option"},{"salary":1360305,"player_status":"not-active","name":"Kevin Martin","option":"stretched"}],"freeAgents":[{"salary":7574322,"player_status":"active","name":"Andrew Wiggins","option":"free-agent"},{"salary":3949999,"player_status":"active","name":"Nemanja Bjelica","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Marcus Georges-Hunt","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Amile Jefferson","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Melo Trimble","option":"free-agent"}],"name":"MIN"},{"salary":{"team-option":8220350,"free-agent":13652785,"guaranteed":99120319,"stretched":92857,"player-option":0},"players":[{"salary":31214295,"player_status":"active","name":"Gordon Hayward","option":"guaranteed"},{"salary":28928710,"player_status":"active","name":"Al Horford","option":"guaranteed"},{"salary":20099188,"player_status":"active","name":"Kyrie Irving","option":"guaranteed"},{"salary":6700800,"player_status":"active","name":"Jayson Tatum","option":"guaranteed"},{"salary":5375000,"player_status":"active","name":"Marcus Morris","option":"guaranteed"},{"salary":5169960,"player_status":"active","name":"Jaylen Brown","option":"team-option"},{"salary":3050390,"player_status":"active","name":"Terry Rozier","option":"team-option"},{"salary":2667600,"player_status":"active","name":"Guerschon Yabusele","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Semi Ojeleye","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Abdel Nader","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Daniel Theis","option":"guaranteed"},{"salary":92857,"player_status":"not-active","name":"Demetrius Jackson","option":"stretched"}],"freeAgents":[{"salary":4538020,"player_status":"active","name":"Marcus Smart","option":"free-agent"},{"salary":4328000,"player_status":"active","name":"Aron Baynes","option":"free-agent"},{"salary":1524305,"player_status":"active","name":"Shane Larkin","option":"free-agent"},{"salary":815615,"player_status":"active","name":"L.J. Peak","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Jonathan Holmes","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Andrew White","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Devin Williams","option":"free-agent"}],"name":"BOS"},{"salary":{"team-option":5797882,"free-agent":12914604,"guaranteed":94882002,"stretched":6352059,"player-option":0},"players":[{"salary":25434263,"player_status":"active","name":"Andre Drummond","option":"guaranteed"},{"salary":17043478,"player_status":"active","name":"Reggie Jackson","option":"guaranteed"},{"salary":14800000,"player_status":"active","name":"Tobias Harris","option":"guaranteed"},{"salary":10002681,"player_status":"active","name":"Jon Leuer","option":"guaranteed"},{"salary":7000000,"player_status":"active","name":"Boban Marjanovic","option":"guaranteed"},{"salary":7000000,"player_status":"active","name":"Langston Galloway","option":"guaranteed"},{"salary":6000000,"player_status":"active","name":"Ish Smith","option":"guaranteed"},{"salary":5400000,"player_status":"not-active","name":"Josh Smith","option":"stretched"},{"salary":3940402,"player_status":"active","name":"Stanley Johnson","option":"team-option"},{"salary":3275280,"player_status":"active","name":"Luke Kennard","option":"guaranteed"},{"salary":2500000,"player_status":"active","name":"Reggie Bullock","option":"guaranteed"},{"salary":1857480,"player_status":"active","name":"Henry Ellenson","option":"team-option"},{"salary":1826300,"player_status":"active","name":"Eric Moreland","option":"guaranteed"}],"freeAgents":[{"salary":8808989,"player_status":"active","name":"Avery Bradley","option":"free-agent"},{"salary":3290000,"player_status":"active","name":"Anthony Tolliver","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Landry Nnoko","option":"free-agent"}],"name":"DET"},{"salary":{"team-option":0,"free-agent":32986861,"guaranteed":83572736,"stretched":0,"player-option":0},"players":[{"salary":23491573,"player_status":"active","name":"Rudy Gobert","option":"guaranteed"},{"salary":14975000,"player_status":"active","name":"Ricky Rubio","option":"guaranteed"},{"salary":13045455,"player_status":"active","name":"Joe Ingles","option":"guaranteed"},{"salary":11536515,"player_status":"active","name":"Alec Burks","option":"guaranteed"},{"salary":5250000,"player_status":"active","name":"Thabo Sefolosha","option":"guaranteed"},{"salary":4200000,"player_status":"active","name":"Jonas Jerebko","option":"guaranteed"},{"salary":3360000,"player_status":"active","name":"Ekpe Udoh","option":"guaranteed"},{"salary":3111480,"player_status":"active","name":"Donovan Mitchell","option":"guaranteed"},{"salary":1679520,"player_status":"active","name":"Tony Bradley","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Joel Bolomboy","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Royce O'Neale","option":"guaranteed"}],"freeAgents":[{"salary":12000000,"player_status":"active","name":"Derrick Favors","option":"free-agent"},{"salary":10505000,"player_status":"active","name":"Joe Johnson","option":"free-agent"},{"salary":4992385,"player_status":"active","name":"Dante Exum","option":"free-agent"},{"salary":2386864,"player_status":"active","name":"Rodney Hood","option":"free-agent"},{"salary":1471382,"player_status":"active","name":"Raul Neto","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Naz Mitrou-Long","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Taylor Braun","option":"free-agent"}],"name":"UTA"},{"salary":{"team-option":8029511,"free-agent":59516494,"guaranteed":45886245,"stretched":0,"player-option":0},"players":[{"salary":18000000,"player_status":"active","name":"Luol Deng","option":"guaranteed"},{"salary":12500000,"player_status":"active","name":"Jordan Clarkson","option":"guaranteed"},{"salary":7461960,"player_status":"active","name":"Lonzo Ball","option":"guaranteed"},{"salary":5757120,"player_status":"active","name":"Brandon Ingram","option":"team-option"},{"salary":2272391,"player_status":"active","name":"Larry Nance Jr.","option":"team-option"},{"salary":1689840,"player_status":"active","name":"Kyle Kuzma","option":"guaranteed"},{"salary":1656092,"player_status":"active","name":"Tyler Ennis","option":"guaranteed"},{"salary":1655160,"player_status":"active","name":"Josh Hart","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Ivica Zubac","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Thomas Bryant","option":"guaranteed"}],"freeAgents":[{"salary":22642350,"player_status":"active","name":"Brook Lopez","option":"free-agent"},{"salary":17745894,"player_status":"active","name":"Kentavious Caldwell-Pope","option":"free-agent"},{"salary":7579366,"player_status":"active","name":"Corey Brewer","option":"free-agent"},{"salary":4149242,"player_status":"active","name":"Julius Randle","option":"free-agent"},{"salary":2328652,"player_status":"active","name":"Andrew Bogut","option":"free-agent"},{"salary":1471382,"player_status":"active","name":"Vander Blue","option":"free-agent"},{"salary":1471382,"player_status":"active","name":"Briante Weber","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Stephen Zimmerman","option":"free-agent"},{"salary":815615,"player_status":"active","name":"V.J. Beachem","option":"free-agent"}],"name":"LAL"},{"salary":{"team-option":0,"free-agent":15541133,"guaranteed":68004397,"stretched":1412611,"player-option":27423164},"players":[{"salary":18622514,"player_status":"active","name":"Enes Kanter","option":"player-option"},{"salary":18530000,"player_status":"active","name":"Joakim Noah","option":"guaranteed"},{"salary":17325000,"player_status":"active","name":"Tim Hardaway","option":"guaranteed"},{"salary":12253780,"player_status":"active","name":"Courtney Lee","option":"guaranteed"},{"salary":7119650,"player_status":"active","name":"Lance Thomas","option":"guaranteed"},{"salary":5697054,"player_status":"active","name":"Kristaps Porzingis","option":"guaranteed"},{"salary":4544400,"player_status":"active","name":"Ron Baker","option":"player-option"},{"salary":4256250,"player_status":"active","name":"Kyle O'Quinn","option":"player-option"},{"salary":4155720,"player_status":"active","name":"Frank Ntilikina","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Willy Hernangomez","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Damyean Dotson","option":"guaranteed"}],"freeAgents":[{"salary":3294994,"player_status":"active","name":"Doug McDermott","option":"free-agent"},{"salary":3025035,"player_status":"active","name":"Mindaugas Kuzminskas","option":"free-agent"},{"salary":2328652,"player_status":"active","name":"Ramon Sessions","option":"free-agent"},{"salary":2328652,"player_status":"active","name":"Jarrett Jack","option":"free-agent"},{"salary":2116955,"player_status":"active","name":"Michael Beasley","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Xavier Rathan-Mayes","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Nigel Hayes","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Jamel Artis","option":"free-agent"}],"name":"NYK"},{"salary":{"team-option":4371382,"free-agent":15196192,"guaranteed":91598735,"stretched":0,"player-option":0},"players":[{"salary":30521115,"player_status":"active","name":"Mike Conley","option":"guaranteed"},{"salary":24119025,"player_status":"active","name":"Marc Gasol","option":"guaranteed"},{"salary":24107258,"player_status":"active","name":"Chandler Parsons","option":"guaranteed"},{"salary":5460000,"player_status":"active","name":"Ben McLemore","option":"guaranteed"},{"salary":2416222,"player_status":"active","name":"Jarell Martin","option":"team-option"},{"salary":1955160,"player_status":"active","name":"Wade Baldwin","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Deyonta Davis","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Wayne Selden","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Andrew Harrison","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Rade Zagorac","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Dillon Brooks","option":"guaranteed"}],"freeAgents":[{"salary":5955760,"player_status":"active","name":"Brandan Wright","option":"free-agent"},{"salary":3290000,"player_status":"active","name":"Tyreke Evans","option":"free-agent"},{"salary":3028410,"player_status":"active","name":"James Ennis","option":"free-agent"},{"salary":2106407,"player_status":"active","name":"Mario Chalmers","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Jeremy Morgan","option":"free-agent"}],"name":"MEM"},{"salary":{"team-option":5167231,"free-agent":16934898,"guaranteed":84225564,"stretched":333333,"player-option":0},"players":[{"salary":17000000,"player_status":"active","name":"Evan Fournier","option":"guaranteed"},{"salary":17000000,"player_status":"active","name":"Bismack Biyombo","option":"guaranteed"},{"salary":12750000,"player_status":"active","name":"Nikola Vucevic","option":"guaranteed"},{"salary":10500000,"player_status":"active","name":"Terrence Ross","option":"guaranteed"},{"salary":7250000,"player_status":"active","name":"D.J. Augustin","option":"guaranteed"},{"salary":6000000,"player_status":"active","name":"Jonathon Simmons","option":"guaranteed"},{"salary":6000000,"player_status":"active","name":"Shelvin Mack","option":"guaranteed"},{"salary":5167231,"player_status":"active","name":"Mario Hezonja","option":"team-option"},{"salary":4969080,"player_status":"active","name":"Jonathan Isaac","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Wesley Iwundu","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Khem Birch","option":"guaranteed"},{"salary":333333,"player_status":"not-active","name":"C.J. Watson","option":"stretched"}],"freeAgents":[{"salary":5504420,"player_status":"active","name":"Aaron Gordon","option":"free-agent"},{"salary":3332340,"player_status":"active","name":"Elfrid Payton","option":"free-agent"},{"salary":2328652,"player_status":"active","name":"Arron Afflalo","option":"free-agent"},{"salary":2116955,"player_status":"active","name":"Marreese Speights","option":"free-agent"},{"salary":1524305,"player_status":"active","name":"Damjan Rudez","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Kalin Lucas","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Troy Caupain","option":"free-agent"}],"name":"ORL"},{"salary":{"team-option":11192855,"free-agent":16329993,"guaranteed":57069104,"stretched":5500000,"player-option":12516746},"players":[{"salary":18500000,"player_status":"active","name":"Allen Crabbe","option":"guaranteed"},{"salary":16000000,"player_status":"active","name":"Timofey Mozgov","option":"guaranteed"},{"salary":15400000,"player_status":"active","name":"DeMarre Carroll","option":"guaranteed"},{"salary":12516746,"player_status":"active","name":"Jeremy Lin","option":"player-option"},{"salary":7019698,"player_status":"active","name":"D'Angelo Russell","option":"team-option"},{"salary":5500000,"player_status":"not-active","name":"Deron Williams","option":"stretched"},{"salary":2470357,"player_status":"active","name":"Rondae Hollis-Jefferson","option":"team-option"},{"salary":2034120,"player_status":"active","name":"Jarrett Allen","option":"guaranteed"},{"salary":1933941,"player_status":"active","name":"Tyler Zeller","option":"guaranteed"},{"salary":1702800,"player_status":"active","name":"Caris LeVert","option":"team-option"},{"salary":1656092,"player_status":"active","name":"Spencer Dinwiddie","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Isaiah Whitehead","option":"guaranteed"}],"freeAgents":[{"salary":9125000,"player_status":"active","name":"Trevor Booker","option":"free-agent"},{"salary":1709538,"player_status":"active","name":"Quincy Acy","option":"free-agent"},{"salary":1524305,"player_status":"active","name":"Sean Kilpatrick","option":"free-agent"},{"salary":1524305,"player_status":"active","name":"Joe Harris","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Milton Doyle","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Jeremy Senglin","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Akil Mitchell","option":"free-agent"}],"name":"BRK"},{"salary":{"team-option":8620320,"free-agent":7897712,"guaranteed":58696086,"stretched":2517952,"player-option":21709045},"players":[{"salary":21000000,"player_status":"active","name":"Victor Oladipo","option":"guaranteed"},{"salary":13764045,"player_status":"active","name":"Thaddeus Young","option":"player-option"},{"salary":10500000,"player_status":"active","name":"Bojan Bogdanovic","option":"guaranteed"},{"salary":10000000,"player_status":"active","name":"Darren Collison","option":"guaranteed"},{"salary":10000000,"player_status":"active","name":"Al Jefferson","option":"guaranteed"},{"salary":7945000,"player_status":"active","name":"Cory Joseph","option":"player-option"},{"salary":4360000,"player_status":"active","name":"Lance Stephenson","option":"team-option"},{"salary":3410284,"player_status":"active","name":"Myles Turner","option":"guaranteed"},{"salary":2659800,"player_status":"active","name":"Domantas Sabonis","option":"team-option"},{"salary":2407560,"player_status":"active","name":"T.J. Leaf","option":"guaranteed"},{"salary":2245400,"player_status":"not-active","name":"Monta Ellis","option":"stretched"},{"salary":1600520,"player_status":"active","name":"Joe Young","option":"team-option"},{"salary":1378242,"player_status":"active","name":"Ike Anigbogu","option":"guaranteed"}],"freeAgents":[{"salary":2116955,"player_status":"active","name":"Damien Wilkins","option":"free-agent"},{"salary":1524305,"player_status":"active","name":"Glenn Robinson","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Jarrod Uthoff","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"DeQuan Jones","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Trey McKinney-Jones","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Ben Moore","option":"free-agent"}],"name":"IND"},{"salary":{"team-option":14045426,"free-agent":8815615,"guaranteed":51493390,"stretched":6150762,"player-option":16739500},"players":[{"salary":19000000,"player_status":"active","name":"George Hill","option":"guaranteed"},{"salary":11692308,"player_status":"active","name":"Zach Randolph","option":"guaranteed"},{"salary":9000000,"player_status":"active","name":"Bogdan Bogdanovic","option":"guaranteed"},{"salary":8739500,"player_status":"active","name":"Kosta Koufos","option":"player-option"},{"salary":8000000,"player_status":"active","name":"Garrett Temple","option":"player-option"},{"salary":5407920,"player_status":"active","name":"De'Aaron Fox","option":"guaranteed"},{"salary":4696875,"player_status":"active","name":"Willie Cauley-Stein","option":"team-option"},{"salary":3833760,"player_status":"active","name":"Buddy Hield","option":"team-option"},{"salary":2807880,"player_status":"active","name":"Justin Jackson","option":"guaranteed"},{"salary":2400480,"player_status":"active","name":"Georgios Papagiannis","option":"team-option"},{"salary":2207040,"player_status":"active","name":"Harry Giles","option":"guaranteed"},{"salary":2133542,"player_status":"not-active","name":"Matt Barnes","option":"stretched"},{"salary":1569360,"player_status":"active","name":"Malachi Richardson","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Skal Labissiere","option":"team-option"},{"salary":1378242,"player_status":"active","name":"Frank Mason","option":"guaranteed"},{"salary":517220,"player_status":"not-active","name":"Caron Butler","option":"stretched"}],"freeAgents":[{"salary":8000000,"player_status":"active","name":"Vince Carter","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Matt Jones","option":"free-agent"}],"name":"SAC"},{"salary":{"team-option":4161480,"free-agent":21447221,"guaranteed":52857111,"stretched":5306110,"player-option":11300000},"players":[{"salary":18089887,"player_status":"active","name":"Kent Bazemore","option":"guaranteed"},{"salary":15500000,"player_status":"active","name":"Dennis Schroder","option":"guaranteed"},{"salary":12500000,"player_status":"active","name":"Miles Plumlee","option":"guaranteed"},{"salary":6300000,"player_status":"active","name":"Dewayne Dedmon","option":"player-option"},{"salary":5000000,"player_status":"active","name":"Mike Muscala","option":"player-option"},{"salary":2526840,"player_status":"active","name":"Taurean Waller-Prince","option":"team-option"},{"salary":2304226,"player_status":"not-active","name":"Jamal Crawford","option":"stretched"},{"salary":2299080,"player_status":"active","name":"John Collins","option":"guaranteed"},{"salary":1634640,"player_status":"active","name":"DeAndre' Bembry","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Nicolas Brussino","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Quinn Cook","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Tyler Dorsey","option":"guaranteed"}],"freeAgents":[{"salary":6606060,"player_status":"active","name":"Marco Belinelli","option":"free-agent"},{"salary":6000000,"player_status":"active","name":"Ersan Ilyasova","option":"free-agent"},{"salary":2500000,"player_status":"active","name":"Malcolm Delaney","option":"free-agent"},{"salary":1974159,"player_status":"active","name":"Luke Babbitt","option":"free-agent"},{"salary":1841849,"player_status":"active","name":"Jeremy Evans","option":"free-agent"},{"salary":1709538,"player_status":"active","name":"John Jenkins","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Jordan Mathews","option":"free-agent"}],"name":"ATL"},{"salary":{"team-option":5000000,"free-agent":24341950,"guaranteed":45987526,"stretched":315760,"player-option":18622514},"players":[{"salary":24107258,"player_status":"active","name":"Harrison Barnes","option":"guaranteed"},{"salary":18622514,"player_status":"active","name":"Wesley Matthews","option":"player-option"},{"salary":9631250,"player_status":"active","name":"Dwight Powell","option":"guaranteed"},{"salary":5000000,"player_status":"active","name":"Dirk Nowitzki","option":"team-option"},{"salary":3819960,"player_status":"active","name":"Dennis Smith","option":"guaranteed"},{"salary":3710850,"player_status":"active","name":"J.J. Barea","option":"guaranteed"},{"salary":1795015,"player_status":"active","name":"Jeff Withey","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Dorian Finney-Smith","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Maxi Kleber","option":"guaranteed"}],"freeAgents":[{"salary":6021175,"player_status":"active","name":"Josh McRoberts","option":"free-agent"},{"salary":4402546,"player_status":"active","name":"Devin Harris","option":"free-agent"},{"salary":4187599,"player_status":"active","name":"Nerlens Noel","option":"free-agent"},{"salary":3028410,"player_status":"active","name":"Seth Curry","option":"free-agent"},{"salary":1471382,"player_status":"active","name":"Salah Mejri","option":"free-agent"},{"salary":1471382,"player_status":"active","name":"Maalik Wayns","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"Yogi Ferrell","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Brandon Ashley","option":"free-agent"},{"salary":815615,"player_status":"active","name":"PJ Dozier","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Gian Clavell","option":"free-agent"}],"name":"DAL"},{"salary":{"team-option":11181805,"free-agent":9680450,"guaranteed":72034454,"stretched":500000,"player-option":0},"players":[{"salary":15000000,"player_status":"active","name":"Eric Bledsoe","option":"guaranteed"},{"salary":14631250,"player_status":"active","name":"Brandon Knight","option":"guaranteed"},{"salary":13585000,"player_status":"active","name":"Tyson Chandler","option":"guaranteed"},{"salary":9530000,"player_status":"active","name":"Jared Dudley","option":"guaranteed"},{"salary":6041520,"player_status":"active","name":"Josh Jackson","option":"guaranteed"},{"salary":5520000,"player_status":"active","name":"Alan Williams","option":"guaranteed"},{"salary":4661280,"player_status":"active","name":"Dragan Bender","option":"team-option"},{"salary":3314365,"player_status":"active","name":"Devin Booker","option":"team-option"},{"salary":3258540,"player_status":"active","name":"Troy Daniels","option":"guaranteed"},{"salary":3206160,"player_status":"active","name":"Marquese Chriss","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Derrick Jones","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Tyler Ulis","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Davon Reed","option":"guaranteed"}],"freeAgents":[{"salary":4187599,"player_status":"active","name":"Alex Len","option":"free-agent"},{"salary":3152931,"player_status":"active","name":"T.J. Warren","option":"free-agent"},{"salary":1524305,"player_status":"active","name":"Elijah Millsap","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Peter Jok","option":"free-agent"}],"name":"PHO"},{"salary":{"team-option":1600520,"free-agent":10819438,"guaranteed":60468183,"stretched":0,"player-option":20265474},"players":[{"salary":29730769,"player_status":"active","name":"Paul Millsap","option":"guaranteed"},{"salary":13764045,"player_status":"active","name":"Kenneth Faried","option":"guaranteed"},{"salary":12800562,"player_status":"active","name":"Wilson Chandler","option":"player-option"},{"salary":7464912,"player_status":"active","name":"Darrell Arthur","option":"player-option"},{"salary":4294480,"player_status":"active","name":"Emmanuel Mudiay","option":"guaranteed"},{"salary":3499800,"player_status":"active","name":"Jamal Murray","option":"guaranteed"},{"salary":3364249,"player_status":"active","name":"Trey Lyles","option":"guaranteed"},{"salary":2166360,"player_status":"active","name":"Juan Hernangomez","option":"guaranteed"},{"salary":1874640,"player_status":"active","name":"Tyler Lydon","option":"guaranteed"},{"salary":1773840,"player_status":"active","name":"Malik Beasley","option":"guaranteed"},{"salary":1600520,"player_status":"active","name":"Nikola Jokic","option":"team-option"}],"freeAgents":[{"salary":4736050,"player_status":"active","name":"Jameer Nelson","option":"free-agent"},{"salary":3533333,"player_status":"active","name":"Will Barton","option":"free-agent"},{"salary":2550055,"player_status":"active","name":"Gary Harris","option":"free-agent"}],"name":"DEN"},{"salary":{"team-option":22537231,"free-agent":47115872,"guaranteed":18655796,"stretched":1500000,"player-option":0},"players":[{"salary":8575916,"player_status":"active","name":"Jerryd Bayless","option":"guaranteed"},{"salary":8339880,"player_status":"active","name":"Markelle Fultz","option":"guaranteed"},{"salary":6434520,"player_status":"active","name":"Ben Simmons","option":"team-option"},{"salary":6313832,"player_status":"active","name":"Jahlil Okafor","option":"team-option"},{"salary":2526840,"player_status":"active","name":"Dario Saric","option":"team-option"},{"salary":2516048,"player_status":"active","name":"Justin Anderson","option":"team-option"},{"salary":1740000,"player_status":"active","name":"Furkan Korkmaz","option":"guaranteed"},{"salary":1600520,"player_status":"active","name":"T.J. McConnell","option":"team-option"},{"salary":1600520,"player_status":"active","name":"Richaun Holmes","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Timothe Luwawu-Cabarrot","option":"team-option"}],"freeAgents":[{"salary":23000000,"player_status":"active","name":"J.J. Redick","option":"free-agent"},{"salary":11000000,"player_status":"active","name":"Amir Johnson","option":"free-agent"},{"salary":6100266,"player_status":"active","name":"Joel Embiid","option":"free-agent"},{"salary":3807146,"player_status":"active","name":"Nik Stauskas","option":"free-agent"},{"salary":1577230,"player_status":"active","name":"Robert Covington","option":"free-agent"},{"salary":815615,"player_status":"active","name":"James Blackmon","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Jacob Pullen","option":"free-agent"}],"name":"PHI"},{"salary":{"team-option":14898555,"free-agent":9999989,"guaranteed":33294417,"stretched":19000000,"player-option":0},"players":[{"salary":14357750,"player_status":"active","name":"Robin Lopez","option":"guaranteed"},{"salary":8470980,"player_status":"active","name":"Cristiano Felicio","option":"guaranteed"},{"salary":4536120,"player_status":"active","name":"Lauri Markkanen","option":"guaranteed"},{"salary":4384616,"player_status":"active","name":"Justin Holiday","option":"guaranteed"},{"salary":4221000,"player_status":"active","name":"Kris Dunn","option":"team-option"},{"salary":3263295,"player_status":"active","name":"Cameron Payne","option":"team-option"},{"salary":2639314,"player_status":"active","name":"Jerian Grant","option":"team-option"},{"salary":2494346,"player_status":"active","name":"Bobby Portis","option":"team-option"},{"salary":2280600,"player_status":"active","name":"Denzel Valentine","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Paul Zipser","option":"guaranteed"}],"freeAgents":[{"salary":3853931,"player_status":"active","name":"Quincy Pondexter","option":"free-agent"},{"salary":3202217,"player_status":"active","name":"Zach LaVine","option":"free-agent"},{"salary":1312611,"player_status":"active","name":"David Nwaba","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Bronson Koenig","option":"free-agent"},{"salary":815615,"player_status":"active","name":"Jaylen Johnson","option":"free-agent"}],"name":"CHI"}];
  data.sort( (a,b) => extractNonFASalary(b) - extractNonFASalary(a))

  initSalaryAxes();
  d3.select(".yAxis").call(d3.axisLeft(salaryToY).tickFormat(d3.format(".2s")))
  d3.select(".xAxis").call(d3.axisBottom(xAxis));
  initSalary();
  drawLegend();
  drawFreeAgentToggle();
  function initSalaryAxes() {
    salaryToY.domain([0, d3.max(data, d => sum(d.salary) + extractFASalary(d) + axisPadding)]);
    xAxis.domain(data.map(d => d.name)).range([0, width]);
  }

  function drawLegend() {

    var legendContainer = salarySvg.append("g")
                          .attr("font-family", "sans-serif")
                          .attr("font-size", 10)
                          .attr("text-anchor", "end")
                          .attr("transform", translate(90, margin.top))

    var legend = legendContainer.selectAll("g")
                   .data(optionKeysFA.slice().reverse())
                   .enter()
                   .append("g")
                   .attr("transform", (d, i) => translate(0, i * 20))

    legend.append("rect")
          .attr("x", width - 19)
          .attr("width", 19)
          .attr("height", 19)
          .attr("fill", optionsToColorsFA)

    legend.append("text")
          .attr("x", width - 24)
          .attr("y", 9.5)
          .attr("dy", "0.32em")
          .text(d => d)

  }

  function updateSalary(salaryStack) {
    var salaryGroups = graphContainer.selectAll(".salaryRect")
                                  .data(salaryStack)
                                  .enter()
                                  .append("g")
                                  .attr("fill", d => optionsToColors(d.key))
                                  .attr("class", "salaryRect")

    var salaryBars = salaryGroups.selectAll("rect")
                                 .data(d => d)
                                 .enter()
                                 .append("g")
                                 .style("cursor", "pointer")
                                 .on("click", (d, i) => drawChildren(data[i]))

    salaryBars.append("rect")
              .attr("y", function(d) { return salaryToY(d[1]); })
              .attr("height", function(d) { return salaryToY(d[0]) - salaryToY(d[1]); })
              .transition().duration(duration)
              .attr("width", xAxis.bandwidth())

    return salaryBars;
  }

  function initSalary() {

    var salaryStack = toStack(optionKeys);

    var bars = updateSalary(salaryStack);
    bars.transition().duration(duration)
        .attr("transform", (d, i) => translate(xAxis(data[i].name), 0))

    /* Draw Salary Cap Line */
    var capLine = graphContainer.append("g").attr("class", "capLine")

    capLine.append("line")
           .attr("fill", "orange")
           .attr("x1", 0)
           .attr("y1", d => salaryToY(projectedCap))
           .attr("x2", 0)
           .attr("y2", d => salaryToY(projectedCap))

    var buffer = 1750000;
    capLine.append("text")
           .attr("transform", translate(0, salaryToY(projectedCap + buffer)))
           .text("Projected Cap: $103m")

    d3.select(".capLine line").transition().duration(duration).attr("x2", width);
    d3.select(".capLine text").transition().duration(duration).attr("transform", translate(width - 170, salaryToY(projectedCap + buffer)));

    /* Draw luxury tax line */
    var projectedTax = 125000000;
    var taxLine = graphContainer.append("g").attr("class", "capLine").attr("id", "taxLine")
    taxLine.append("line")
           .attr("fill", "orange")
           .attr("x1", 0)
           .attr("y1", d => salaryToY(projectedTax))
           .attr("x2", 0)
           .attr("y2", d => salaryToY(projectedTax))

    taxLine.append("text")
           .attr("transform", translate(0, salaryToY(projectedTax + buffer)))
           .text("Projected Luxury Tax: $125m")

    d3.select("#taxLine line").transition().duration(duration).attr("x2", width);
    d3.select("#taxLine text").transition().duration(duration).attr("transform", translate(width - 220, salaryToY(projectedTax + buffer)));

  }

  function drawFreeAgentToggle() {
    changeController.text("Add Free Agents")
                    .on("click", function() {
                      if (!includeFA) {
                        addFreeAgents();
                        d3.select(this).text("Remove Free Agents")
                        includeFA = true;
                      } else {
                        d3.select(this).text("Add Free Agents")
                        removeFreeAgents();
                        includeFA = false;
                      }
                    })
    }

  function drawChildren(team) {

    var players = team.players;
    var freeAgents = team.freeAgents;
    /* reset axes */
    var maxSalary = Math.max(d3.max(players, d => d.salary), d3.max(freeAgents, d => d.salary));
    salaryToY.domain([0, maxSalary + axisPadding]);

    d3.select(".yAxis").transition().duration(duration).call(d3.axisLeft(salaryToY).tickFormat(d3.format(".2s")));

    var allPlayers = players.map(d => d).concat(freeAgents.map(d => d))

    xAxis.domain(allPlayers.map(d => d.name));
    d3.select(".xAxis").transition().duration(duration).call(d3.axisBottom(xAxis))

    d3.selectAll(".xAxis text").transition().duration(duration).attr("y", 0)
                               .attr("x", 9)
                               .attr("dy", ".35em")
                               .attr("transform", "rotate(90)")
                               .style("text-anchor", "start")

    var exitBars = graphContainer.selectAll(".salaryRect").remove();
    var exitLine = graphContainer.selectAll(".capLine").remove();

    var enterBars = graphContainer.selectAll("rect")
                  .data(allPlayers)
                  .enter()
                  .append("rect")
                  .attr("class", "playerRect")
                  .attr("width", xAxis.bandwidth())
                  .attr("y", d => salaryToY(d.salary))
                  .attr("height", d => (height - salaryToY(d.salary)))
                  .attr("fill", d => optionsToColorsFA(d.option))

    enterBars.transition().duration(duration)
                  .attr("transform", d => translate(xAxis(d.name), 0))

    // TODO: style this better
    changeController.text("<-- Back to Team Salaries")
                    .on("click", function() {
                      graphContainer.selectAll(".playerRect").remove();
                      resetSalary();
                      initSalary();
                      includeFA = false;
                      drawFreeAgentToggle();
                    })

    }

    function resetSalary() {
      initSalaryAxes();
      d3.select(".yAxis").transition().duration(duration).call(d3.axisLeft(salaryToY).tickFormat(d3.format(".2s")));
      d3.select(".xAxis").transition().duration(duration).call(d3.axisBottom(xAxis));
    }

  function addFreeAgents() {
    var stackFA = toStack(optionKeysFA);
    optionsToColors = d3.scaleOrdinal().range(optionColorsFA).domain(optionKeysFA);
    var addedBars = updateSalary(stackFA).attr("transform", (d, i) => translate(xAxis(data[i].name), 0))

    addedBars.transition().duration(500).style("fill-opacity", 0.45);
  }

  function removeFreeAgents() {
    var stack = toStack(optionKeys);
    optionsToColors = d3.scaleOrdinal().range(optionColors).domain(optionKeys);

    graphContainer.selectAll(".salaryRect") 
                  .data(stack)
                  .exit()
                  .remove()

  }


</script>

:ET