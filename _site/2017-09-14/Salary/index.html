<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Salary</title>

  <!-- CSS -->
  <link rel="stylesheet" href="/assets/css/main.css" type="text/css">

  <!-- Font -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href='//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSans-kr.css' rel='stylesheet' type='text/css'>
  <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono" rel="stylesheet">
  <!-- <link rel="stylesheet" type="text/css" href="/assets/css/trend.css"/> -->

  <link rel="alternate" type="application/rss+xml" title="RSS Feed for The Pick and Scroll" href="/feed.xml" />
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">


  <!-- Google Analytics -->

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', '', 'auto');
ga('send', 'pageview');

</script>



</head>

<body>
<header>
  <div class="header-small">
    <a href="http://localhost:4000">The Pick and Scroll</a>
  </div>
</header>

<style>

  ul>li:before {
    content: ""
  }

  .xAxis text {
    font-size: 11px;
  }

  .yAxis text {
    font-size: 11px;
  }

  .xAxis .tick line {
    visibility: hidden;
  }

  .capLine line {
    stroke-width: 3px;
    stroke: orange;
  }

  .capLine text {
    stroke: black;
    stroke-width: .3px;
  }

  #freeAgents input {
                margin-top: 2.5px;
  }
  #freeAgents label {
      /* display: inline; */
      margin-bottom: 20px;
  }
  input.inputValue {
    margin-left: 12px;
    width: 85px;
  }
 
  #sliders {
    vertical-align: middle;
    height: 50px;
    position: fixed;
    margin-top: 28px;
  }

  #sliders ul {
    list-style: none;
  }


</style>

<body>
  <svg id="salary"></svg>
  <svg id="freeAgents"></svg>
  <span id="sliders"></span>

</body>

<script>

  // utility functions
  function sum( obj ) {
    var sum = 0;
    for ( var el in obj ) {
      if (obj.hasOwnProperty(el)) sum += parseFloat( obj[el] );
    }
    return sum;
  }

  function translate(x, y) {return "translate(" + x + "," + y + ")";}

  function toStack(keys, data) {
    var salaryStack = d3.stack().keys(keys).order(d3.stackOrderDescending).offset(d3.stackOffsetNone);
    return salaryStack(data.map(d => d.salary));
  }

  function toId(name) {return name.replace(' ', '_');}

  // set-up margins for salary svg

  var margin = {top: 50, right: 50, bottom: 125, left: 100},
    width = 1250 - margin.left - margin.right,
    height = 600 - margin.top - margin.bottom;

  var salarySvg = d3.select("svg#salary")
                    .attr("width", width + margin.left + margin.right)
                    .attr("height", height + margin.top + margin.bottom)

  // set-up the graph container
  var graphContainer = salarySvg.append("g")
                                .attr("transform", translate(margin.left, margin.top))

  // set up axises
  var salaryToY = d3.scaleLinear().range([height, 0]);
  salarySvg.append("g")
           .attr("transform", translate(margin.left, margin.top))
           .attr("class", "yAxis")

  var xAxis = d3.scaleBand().rangeRound([0, width]).padding(0.15).align(0.1);
  salarySvg.append("g")
             .attr("class", "xAxis")
             .attr("transform", translate(margin.left, height + margin.top))


  /* Config variables */
  var duration = 750;
  var axisPadding = 5000000;
  var scale = 0.45;
  let projectedCap = 103000000;
  var optionKeys = ["guaranteed", "player-option", "team-option", "stretched"];
  var optionColors = ['#53802c', '#86af49', '#b5e7a0', '#e3eaa7'];

  var optionsToColors = d3.scaleOrdinal().range(optionColors).domain(optionKeys);

  var teamData;
  var data = [{"salary":{"team-option":2243326,"guaranteed":55102172,"stretched":2442455,"player-option":79301928},"players":[{"salary":30670404,"player_status":"active","name":"Russell Westbrook","option":"player-option"},{"salary":27928140,"player_status":"active","name":"Carmelo Anthony","option":"player-option"},{"salary":24157303,"player_status":"active","name":"Steven Adams","option":"guaranteed"},{"salary":20703384,"player_status":"active","name":"Paul George","option":"player-option"},{"salary":10000000,"player_status":"active","name":"Andre Roberson","option":"guaranteed"},{"salary":5455236,"player_status":"active","name":"Alex Abrines","option":"guaranteed"},{"salary":5451600,"player_status":"active","name":"Patrick Patterson","option":"guaranteed"},{"salary":4996000,"player_status":"active","name":"Kyle Singler","option":"guaranteed"},{"salary":2243326,"player_status":"active","name":"Josh Huestis","option":"team-option"},{"salary":2118840,"player_status":"active","name":"Terrance Ferguson","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Semaj Christon","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Dakari Johnson","option":"guaranteed"}],"freeAgents":[{"salary":2328652,"player_status":"active","name":"Raymond Felton","option":"fa"},{"salary":2328652,"player_status":"active","name":"Nick Collison","option":"fa"},{"salary":1524305,"player_status":"active","name":"Jerami Grant","option":"fa"},{"salary":815615,"player_status":"active","name":"Bryce Alford","option":"fa"},{"salary":815615,"player_status":"active","name":"Rashawn Thomas","option":"fa"}],"name":"OKC"},{"salary":{"team-option":3772032,"guaranteed":99601388,"stretched":945126,"player-option":26250000},"players":[{"salary":37457154,"player_status":"active","name":"Stephen Curry","option":"guaranteed"},{"salary":26250000,"player_status":"active","name":"Kevin Durant","option":"player-option"},{"salary":18988725,"player_status":"active","name":"Klay Thompson","option":"guaranteed"},{"salary":17469565,"player_status":"active","name":"Draymond Green","option":"guaranteed"},{"salary":16000000,"player_status":"active","name":"Andre Iguodala","option":"guaranteed"},{"salary":8307692,"player_status":"active","name":"Shaun Livingston","option":"guaranteed"},{"salary":2227081,"player_status":"active","name":"Kevon Looney","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Damian Jones","option":"team-option"},{"salary":1378252,"player_status":"active","name":"Jordan Bell","option":"guaranteed"},{"salary":945126,"player_status":"not-active","name":"Jason Thompson","option":"stretched"}],"freeAgents":[{"salary":5192000,"player_status":"active","name":"Nick Young","option":"fa"},{"salary":3477600,"player_status":"active","name":"Zaza Pachulia","option":"fa"},{"salary":2328652,"player_status":"active","name":"David West","option":"fa"},{"salary":2116955,"player_status":"active","name":"JaVale McGee","option":"fa"},{"salary":2106470,"player_status":"active","name":"Omri Casspi","option":"fa"},{"salary":1312611,"player_status":"active","name":"Michael Gbinije","option":"fa"},{"salary":1312611,"player_status":"active","name":"Patrick McCaw","option":"fa"},{"salary":1312611,"player_status":"active","name":"Georges Niang","option":"fa"},{"salary":815615,"player_status":"active","name":"Antonius Cleveland","option":"fa"},{"salary":815615,"player_status":"active","name":"Alex Hamilton","option":"fa"}],"name":"GSW"},{"salary":{"team-option":5451956,"guaranteed":113399486,"stretched":830000,"player-option":8904500},"players":[{"salary":26011913,"player_status":"active","name":"Otto Porter","option":"guaranteed"},{"salary":25434263,"player_status":"active","name":"Bradley Beal","option":"guaranteed"},{"salary":19169800,"player_status":"active","name":"John Wall","option":"guaranteed"},{"salary":15944154,"player_status":"active","name":"Ian Mahinmi","option":"guaranteed"},{"salary":13565218,"player_status":"active","name":"Marcin Gortat","option":"guaranteed"},{"salary":8600000,"player_status":"active","name":"Markieff Morris","option":"guaranteed"},{"salary":5450000,"player_status":"active","name":"Jason Smith","option":"player-option"},{"salary":3454500,"player_status":"active","name":"Jodie Meeks","option":"player-option"},{"salary":3208630,"player_status":"active","name":"Kelly Oubre","option":"team-option"},{"salary":3129187,"player_status":"active","name":"Tomas Satoransky","option":"guaranteed"},{"salary":2243326,"player_status":"active","name":"Chris McCullough","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Daniel Ochefu","option":"guaranteed"},{"salary":830000,"player_status":"not-active","name":"Martell Webster","option":"stretched"}],"freeAgents":[{"salary":2000000,"player_status":"active","name":"Tim Frazier","option":"fa"},{"salary":1709538,"player_status":"active","name":"Donald Sloan","option":"fa"},{"salary":1709538,"player_status":"active","name":"Mike Scott","option":"fa"},{"salary":1312611,"player_status":"active","name":"Sheldon Mac","option":"fa"},{"salary":1312611,"player_status":"active","name":"Carrick Felix","option":"fa"}],"name":"WAS"},{"salary":{"team-option":0,"guaranteed":81660146,"stretched":0,"player-option":46619202},"players":[{"salary":35607968,"player_status":"active","name":"LeBron James","option":"player-option"},{"salary":24119025,"player_status":"active","name":"Kevin Love","option":"guaranteed"},{"salary":17469565,"player_status":"active","name":"Tristan Thompson","option":"guaranteed"},{"salary":14720000,"player_status":"active","name":"J.R. Smith","option":"guaranteed"},{"salary":11011234,"player_status":"active","name":"Iman Shumpert","option":"player-option"},{"salary":7560000,"player_status":"active","name":"Kyle Korver","option":"guaranteed"},{"salary":7305825,"player_status":"active","name":"Jae Crowder","option":"guaranteed"},{"salary":2775000,"player_status":"active","name":"Cedi Osman","option":"guaranteed"},{"salary":2612500,"player_status":"active","name":"Richard Jefferson","option":"guaranteed"},{"salary":1952760,"player_status":"active","name":"Ante Zizic","option":"guaranteed"},{"salary":1600520,"player_status":"active","name":"Edy Tavares","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Kay Felder","option":"guaranteed"}],"freeAgents":[{"salary":7420912,"player_status":"active","name":"Channing Frye","option":"fa"},{"salary":6261395,"player_status":"active","name":"Isaiah Thomas","option":"fa"},{"salary":2328652,"player_status":"active","name":"Jose Calderon","option":"fa"},{"salary":2116955,"player_status":"active","name":"Derrick Rose","option":"fa"},{"salary":2116955,"player_status":"active","name":"Jeff Green","option":"fa"}],"name":"CLE"},{"salary":{"team-option":1600520,"guaranteed":118922703,"stretched":0,"player-option":0},"players":[{"salary":25434263,"player_status":"active","name":"Hassan Whiteside","option":"guaranteed"},{"salary":19245370,"player_status":"active","name":"Tyler Johnson","option":"guaranteed"},{"salary":18109175,"player_status":"active","name":"Goran Dragic","option":"guaranteed"},{"salary":14651700,"player_status":"active","name":"James Johnson","option":"guaranteed"},{"salary":11550000,"player_status":"active","name":"Dion Waiters","option":"guaranteed"},{"salary":11137527,"player_status":"active","name":"Kelly Olynyk","option":"guaranteed"},{"salary":9300000,"player_status":"active","name":"Josh Richardson","option":"guaranteed"},{"salary":3448926,"player_status":"active","name":"Justise Winslow","option":"guaranteed"},{"salary":2955840,"player_status":"active","name":"Bam Adebayo","option":"guaranteed"},{"salary":1600520,"player_status":"active","name":"Jordan Mickey","option":"team-option"},{"salary":1544951,"player_status":"active","name":"A.J. Hammons","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Rodney McGruder","option":"guaranteed"}],"freeAgents":[{"salary":6270000,"player_status":"active","name":"Wayne Ellington","option":"fa"},{"salary":2328652,"player_status":"active","name":"Udonis Haslem","option":"fa"},{"salary":1312611,"player_status":"active","name":"Okaro White","option":"fa"},{"salary":815615,"player_status":"active","name":"Matt Williams","option":"fa"},{"salary":815615,"player_status":"active","name":"Erik McCree","option":"fa"}],"name":"MIA"},{"salary":{"team-option":3627842,"guaranteed":114405501,"stretched":0,"player-option":0},"players":[{"salary":24000000,"player_status":"active","name":"Nicolas Batum","option":"guaranteed"},{"salary":23819725,"player_status":"active","name":"Dwight Howard","option":"guaranteed"},{"salary":14087500,"player_status":"active","name":"Marvin Williams","option":"guaranteed"},{"salary":13528090,"player_status":"active","name":"Cody Zeller","option":"guaranteed"},{"salary":13000000,"player_status":"active","name":"Michael Kidd-Gilchrist","option":"guaranteed"},{"salary":12000000,"player_status":"active","name":"Kemba Walker","option":"guaranteed"},{"salary":7488372,"player_status":"active","name":"Jeremy Lamb","option":"guaranteed"},{"salary":3627842,"player_status":"active","name":"Frank Kaminsky","option":"team-option"},{"salary":3447480,"player_status":"active","name":"Malik Monk","option":"guaranteed"},{"salary":1656092,"player_status":"active","name":"Julyan Stone","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Dwayne Bacon","option":"guaranteed"}],"freeAgents":[{"salary":2700000,"player_status":"active","name":"Michael Carter-Williams","option":"fa"},{"salary":1524305,"player_status":"active","name":"Johnny O'Bryant","option":"fa"},{"salary":1312611,"player_status":"active","name":"Treveon Graham","option":"fa"},{"salary":815615,"player_status":"active","name":"Terry Henderson","option":"fa"},{"salary":815615,"player_status":"active","name":"Isaiah Hicks","option":"fa"},{"salary":815615,"player_status":"active","name":"Luke Petrasek","option":"fa"},{"salary":815615,"player_status":"active","name":"T.J. Williams","option":"fa"}],"name":"CHO"},{"salary":{"team-option":4305046,"guaranteed":61245023,"stretched":2557001,"player-option":49203025},"players":[{"salary":31873932,"player_status":"active","name":"Blake Griffin","option":"guaranteed"},{"salary":24119025,"player_status":"active","name":"DeAndre Jordan","option":"player-option"},{"salary":21587579,"player_status":"active","name":"Danilo Gallinari","option":"guaranteed"},{"salary":12650000,"player_status":"active","name":"Austin Rivers","option":"player-option"},{"salary":6300000,"player_status":"active","name":"Milos Teodosic","option":"player-option"},{"salary":6134000,"player_status":"active","name":"Wesley Johnson","option":"player-option"},{"salary":5027028,"player_status":"active","name":"Patrick Beverley","option":"guaranteed"},{"salary":2760095,"player_status":"active","name":"Sam Dekker","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Brice Johnson","option":"team-option"},{"salary":1378242,"player_status":"active","name":"Sindarius Thornwell","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Jawun Evans","option":"guaranteed"},{"salary":650000,"player_status":"not-active","name":"Carlos Delfino","option":"stretched"},{"salary":300000,"player_status":"not-active","name":"Miroslav Raduljica","option":"stretched"}],"freeAgents":[{"salary":7000000,"player_status":"active","name":"Lou Williams","option":"fa"},{"salary":1577230,"player_status":"active","name":"Willie Reed","option":"fa"},{"salary":1471382,"player_status":"active","name":"Montrezl Harrell","option":"fa"},{"salary":1312611,"player_status":"active","name":"Marshall Plumlee","option":"fa"},{"salary":815615,"player_status":"active","name":"C.J. Williams","option":"fa"},{"salary":815615,"player_status":"active","name":"Tyrone Wallace","option":"fa"}],"name":"LAC"},{"salary":{"team-option":7029169,"guaranteed":108610303,"stretched":1000000,"player-option":0},"players":[{"salary":31000000,"player_status":"active","name":"Kyle Lowry","option":"guaranteed"},{"salary":27739975,"player_status":"active","name":"DeMar DeRozan","option":"guaranteed"},{"salary":21666667,"player_status":"active","name":"Serge Ibaka","option":"guaranteed"},{"salary":16539326,"player_status":"active","name":"Jonas Valanciunas","option":"guaranteed"},{"salary":8333333,"player_status":"active","name":"C.J. Miles","option":"guaranteed"},{"salary":2947320,"player_status":"active","name":"Jakob Poeltl","option":"team-option"},{"salary":2536898,"player_status":"active","name":"Delon Wright","option":"team-option"},{"salary":1952760,"player_status":"active","name":"OG Anunoby","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Pascal Siakam","option":"team-option"},{"salary":1378242,"player_status":"active","name":"Alfonzo McKinnie","option":"guaranteed"},{"salary":1000000,"player_status":"not-active","name":"Justin Hamilton","option":"stretched"}],"freeAgents":[{"salary":2947305,"player_status":"active","name":"Lucas Nogueira","option":"fa"},{"salary":2451225,"player_status":"active","name":"Bruno Caboclo","option":"fa"},{"salary":1524305,"player_status":"active","name":"K.J. McDaniels","option":"fa"},{"salary":1471382,"player_status":"active","name":"Norman Powell","option":"fa"},{"salary":1312611,"player_status":"active","name":"Fred VanVleet","option":"fa"},{"salary":1312611,"player_status":"active","name":"Kyle Wiltjer","option":"fa"},{"salary":815615,"player_status":"active","name":"Kennedy Meeks","option":"fa"}],"name":"TOR"},{"salary":{"team-option":0,"guaranteed":106909868,"stretched":5091107,"player-option":0},"players":[{"salary":27977689,"player_status":"active","name":"Damian Lillard","option":"guaranteed"},{"salary":25759766,"player_status":"active","name":"C.J. McCollum","option":"guaranteed"},{"salary":17868852,"player_status":"active","name":"Evan Turner","option":"guaranteed"},{"salary":10837079,"player_status":"active","name":"Maurice Harkless","option":"guaranteed"},{"salary":10595506,"player_status":"active","name":"Meyers Leonard","option":"guaranteed"},{"salary":6957105,"player_status":"active","name":"Al-Farouq Aminu","option":"guaranteed"},{"salary":3628920,"player_status":"active","name":"Zach Collins","option":"guaranteed"},{"salary":2844429,"player_status":"not-active","name":"Andrew Nicholson","option":"stretched"},{"salary":1913345,"player_status":"not-active","name":"Anderson Varejao","option":"stretched"},{"salary":1740000,"player_status":"active","name":"Caleb Swanigan","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Jake Layman","option":"guaranteed"},{"salary":333333,"player_status":"not-active","name":"Festus Ezeli","option":"stretched"}],"freeAgents":[{"salary":6352531,"player_status":"active","name":"Ed Davis","option":"fa"},{"salary":3505233,"player_status":"active","name":"Noah Vonleh","option":"fa"},{"salary":2947305,"player_status":"active","name":"Jusuf Nurkic","option":"fa"},{"salary":2361360,"player_status":"active","name":"Shabazz Napier","option":"fa"},{"salary":1577230,"player_status":"active","name":"Archie Goodwin","option":"fa"},{"salary":1471382,"player_status":"active","name":"Pat Connaughton","option":"fa"},{"salary":815615,"player_status":"active","name":"Isaiah Briscoe","option":"fa"}],"name":"POR"},{"salary":{"team-option":10283488,"guaranteed":78240187,"stretched":12960305,"player-option":6339415},"players":[{"salary":20445779,"player_status":"active","name":"Jimmy Butler","option":"guaranteed"},{"salary":19000000,"player_status":"active","name":"Jeff Teague","option":"guaranteed"},{"salary":15170787,"player_status":"active","name":"Gorgui Dieng","option":"guaranteed"},{"salary":14000000,"player_status":"active","name":"Taj Gibson","option":"guaranteed"},{"salary":7839435,"player_status":"active","name":"Karl-Anthony Towns","option":"team-option"},{"salary":6956021,"player_status":"active","name":"Cole Aldrich","option":"guaranteed"},{"salary":4544400,"player_status":"active","name":"Jamal Crawford","option":"player-option"},{"salary":2667600,"player_status":"active","name":"Justin Patton","option":"guaranteed"},{"salary":2444053,"player_status":"active","name":"Tyus Jones","option":"team-option"},{"salary":1795015,"player_status":"active","name":"Shabazz Muhammad","option":"player-option"},{"salary":1360305,"player_status":"not-active","name":"Kevin Martin","option":"stretched"}],"freeAgents":[{"salary":7574322,"player_status":"active","name":"Andrew Wiggins","option":"fa"},{"salary":3949999,"player_status":"active","name":"Nemanja Bjelica","option":"fa"},{"salary":1312611,"player_status":"active","name":"Marcus Georges-Hunt","option":"fa"},{"salary":815615,"player_status":"active","name":"Amile Jefferson","option":"fa"},{"salary":815615,"player_status":"active","name":"Melo Trimble","option":"fa"}],"name":"MIN"},{"salary":{"team-option":8220350,"guaranteed":99120319,"stretched":92857,"player-option":0},"players":[{"salary":31214295,"player_status":"active","name":"Gordon Hayward","option":"guaranteed"},{"salary":28928710,"player_status":"active","name":"Al Horford","option":"guaranteed"},{"salary":20099188,"player_status":"active","name":"Kyrie Irving","option":"guaranteed"},{"salary":6700800,"player_status":"active","name":"Jayson Tatum","option":"guaranteed"},{"salary":5375000,"player_status":"active","name":"Marcus Morris","option":"guaranteed"},{"salary":5169960,"player_status":"active","name":"Jaylen Brown","option":"team-option"},{"salary":3050390,"player_status":"active","name":"Terry Rozier","option":"team-option"},{"salary":2667600,"player_status":"active","name":"Guerschon Yabusele","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Semi Ojeleye","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Abdel Nader","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Daniel Theis","option":"guaranteed"},{"salary":92857,"player_status":"not-active","name":"Demetrius Jackson","option":"stretched"}],"freeAgents":[{"salary":4538020,"player_status":"active","name":"Marcus Smart","option":"fa"},{"salary":4328000,"player_status":"active","name":"Aron Baynes","option":"fa"},{"salary":1524305,"player_status":"active","name":"Shane Larkin","option":"fa"},{"salary":815615,"player_status":"active","name":"L.J. Peak","option":"fa"},{"salary":815615,"player_status":"active","name":"Andrew White","option":"fa"}],"name":"BOS"},{"salary":{"team-option":5797882,"guaranteed":94882002,"stretched":6352059,"player-option":0},"players":[{"salary":25434263,"player_status":"active","name":"Andre Drummond","option":"guaranteed"},{"salary":17043478,"player_status":"active","name":"Reggie Jackson","option":"guaranteed"},{"salary":14800000,"player_status":"active","name":"Tobias Harris","option":"guaranteed"},{"salary":10002681,"player_status":"active","name":"Jon Leuer","option":"guaranteed"},{"salary":7000000,"player_status":"active","name":"Boban Marjanovic","option":"guaranteed"},{"salary":7000000,"player_status":"active","name":"Langston Galloway","option":"guaranteed"},{"salary":6000000,"player_status":"active","name":"Ish Smith","option":"guaranteed"},{"salary":5400000,"player_status":"not-active","name":"Josh Smith","option":"stretched"},{"salary":3940402,"player_status":"active","name":"Stanley Johnson","option":"team-option"},{"salary":3275280,"player_status":"active","name":"Luke Kennard","option":"guaranteed"},{"salary":2500000,"player_status":"active","name":"Reggie Bullock","option":"guaranteed"},{"salary":1857480,"player_status":"active","name":"Henry Ellenson","option":"team-option"},{"salary":1826300,"player_status":"active","name":"Eric Moreland","option":"guaranteed"}],"freeAgents":[{"salary":8808989,"player_status":"active","name":"Avery Bradley","option":"fa"},{"salary":3290000,"player_status":"active","name":"Anthony Tolliver","option":"fa"},{"salary":815615,"player_status":"active","name":"Landry Nnoko","option":"fa"}],"name":"DET"},{"salary":{"team-option":1544951,"guaranteed":53216020,"stretched":2916450,"player-option":42829407},"players":[{"salary":22347015,"player_status":"active","name":"LaMarcus Aldridge","option":"player-option"},{"salary":20099189,"player_status":"active","name":"Kawhi Leonard","option":"guaranteed"},{"salary":16000000,"player_status":"active","name":"Pau Gasol","option":"guaranteed"},{"salary":11571429,"player_status":"active","name":"Patty Mills","option":"guaranteed"},{"salary":10000000,"player_status":"active","name":"Danny Green","option":"player-option"},{"salary":8826300,"player_status":"active","name":"Rudy Gay","option":"player-option"},{"salary":2500000,"player_status":"active","name":"Manu Ginobili","option":"guaranteed"},{"salary":1881250,"player_status":"not-active","name":"Tim Duncan","option":"stretched"},{"salary":1667160,"player_status":"active","name":"Derrick White","option":"guaranteed"},{"salary":1656092,"player_status":"active","name":"Joffrey Lauvergne","option":"player-option"},{"salary":1544951,"player_status":"active","name":"Dejounte Murray","option":"team-option"},{"salary":1378242,"player_status":"active","name":"Brandon Paul","option":"guaranteed"}],"freeAgents":[{"salary":15453126,"player_status":"active","name":"Tony Parker","option":"fa"},{"salary":2151704,"player_status":"active","name":"Kyle Anderson","option":"fa"},{"salary":1312611,"player_status":"active","name":"Bryn Forbes","option":"fa"},{"salary":1312611,"player_status":"active","name":"Davis Bertans","option":"fa"},{"salary":815615,"player_status":"active","name":"Amida Brimah","option":"fa"},{"salary":815615,"player_status":"active","name":"London Perrantes","option":"fa"}],"name":"SAS"},{"salary":{"team-option":5701285,"guaranteed":83906885,"stretched":8752337,"player-option":0},"players":[{"salary":24157303,"player_status":"active","name":"Giannis Antetokounmpo","option":"guaranteed"},{"salary":13000000,"player_status":"active","name":"Khris Middleton","option":"guaranteed"},{"salary":10607143,"player_status":"active","name":"Tony Snell","option":"guaranteed"},{"salary":10577466,"player_status":"active","name":"John Henson","option":"guaranteed"},{"salary":10500000,"player_status":"active","name":"Mirza Teletovic","option":"guaranteed"},{"salary":9607500,"player_status":"active","name":"Matthew Dellavedova","option":"guaranteed"},{"salary":2901565,"player_status":"active","name":"Rashad Vaughn","option":"team-option"},{"salary":2799720,"player_status":"active","name":"Thon Maker","option":"team-option"},{"salary":2534280,"player_status":"active","name":"D.J. Wilson","option":"guaranteed"},{"salary":1865547,"player_status":"not-active","name":"Larry Sanders","option":"stretched"},{"salary":1544951,"player_status":"active","name":"Malcolm Brogdon","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Sterling Brown","option":"guaranteed"}],"freeAgents":[{"salary":17884176,"player_status":"active","name":"Greg Monroe","option":"fa"},{"salary":6782392,"player_status":"active","name":"Jabari Parker","option":"fa"},{"salary":2328652,"player_status":"active","name":"Jason Terry","option":"fa"},{"salary":1312611,"player_status":"active","name":"Gary Payton","option":"fa"}],"name":"MIL"},{"salary":{"team-option":0,"guaranteed":68004397,"stretched":1412611,"player-option":27423164},"players":[{"salary":18622514,"player_status":"active","name":"Enes Kanter","option":"player-option"},{"salary":18530000,"player_status":"active","name":"Joakim Noah","option":"guaranteed"},{"salary":17325000,"player_status":"active","name":"Tim Hardaway","option":"guaranteed"},{"salary":12253780,"player_status":"active","name":"Courtney Lee","option":"guaranteed"},{"salary":7119650,"player_status":"active","name":"Lance Thomas","option":"guaranteed"},{"salary":5697054,"player_status":"active","name":"Kristaps Porzingis","option":"guaranteed"},{"salary":4544400,"player_status":"active","name":"Ron Baker","option":"player-option"},{"salary":4256250,"player_status":"active","name":"Kyle O'Quinn","option":"player-option"},{"salary":4155720,"player_status":"active","name":"Frank Ntilikina","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Willy Hernangomez","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Damyean Dotson","option":"guaranteed"}],"freeAgents":[{"salary":3294994,"player_status":"active","name":"Doug McDermott","option":"fa"},{"salary":3025035,"player_status":"active","name":"Mindaugas Kuzminskas","option":"fa"},{"salary":2328652,"player_status":"active","name":"Jarrett Jack","option":"fa"},{"salary":2328652,"player_status":"active","name":"Ramon Sessions","option":"fa"},{"salary":2116955,"player_status":"active","name":"Michael Beasley","option":"fa"},{"salary":815615,"player_status":"active","name":"Jamel Artis","option":"fa"},{"salary":815615,"player_status":"active","name":"Xavier Rathan-Mayes","option":"fa"},{"salary":815615,"player_status":"active","name":"Nigel Hayes","option":"fa"}],"name":"NYK"},{"salary":{"team-option":4371382,"guaranteed":91598735,"stretched":0,"player-option":0},"players":[{"salary":30521115,"player_status":"active","name":"Mike Conley","option":"guaranteed"},{"salary":24119025,"player_status":"active","name":"Marc Gasol","option":"guaranteed"},{"salary":24107258,"player_status":"active","name":"Chandler Parsons","option":"guaranteed"},{"salary":5460000,"player_status":"active","name":"Ben McLemore","option":"guaranteed"},{"salary":2416222,"player_status":"active","name":"Jarell Martin","option":"team-option"},{"salary":1955160,"player_status":"active","name":"Wade Baldwin","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Andrew Harrison","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Deyonta Davis","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Wayne Selden","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Rade Zagorac","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Dillon Brooks","option":"guaranteed"}],"freeAgents":[{"salary":5955760,"player_status":"active","name":"Brandan Wright","option":"fa"},{"salary":3290000,"player_status":"active","name":"Tyreke Evans","option":"fa"},{"salary":3028410,"player_status":"active","name":"James Ennis","option":"fa"},{"salary":2106407,"player_status":"active","name":"Mario Chalmers","option":"fa"},{"salary":815615,"player_status":"active","name":"Jeremy Morgan","option":"fa"}],"name":"MEM"},{"salary":{"team-option":0,"guaranteed":94827090,"stretched":50000,"player-option":0},"players":[{"salary":26131111,"player_status":"active","name":"Jrue Holiday","option":"guaranteed"},{"salary":25434263,"player_status":"active","name":"Anthony Davis","option":"guaranteed"},{"salary":12752928,"player_status":"active","name":"Solomon Hill","option":"guaranteed"},{"salary":11286516,"player_status":"active","name":"Omer Asik","option":"guaranteed"},{"salary":8808685,"player_status":"active","name":"E'Twaun Moore","option":"guaranteed"},{"salary":5285394,"player_status":"active","name":"Alexis Ajinca","option":"guaranteed"},{"salary":2205000,"player_status":"active","name":"Darius Miller","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Cheick Diallo","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Frank Jackson","option":"guaranteed"}],"freeAgents":[{"salary":18063850,"player_status":"active","name":"DeMarcus Cousins","option":"fa"},{"salary":3300000,"player_status":"active","name":"Rajon Rondo","option":"fa"},{"salary":2300000,"player_status":"active","name":"Dante Cunningham","option":"fa"},{"salary":1709538,"player_status":"active","name":"Jordan Crawford","option":"fa"},{"salary":1577230,"player_status":"active","name":"Ian Clark","option":"fa"},{"salary":1524305,"player_status":"active","name":"Perry Jones","option":"fa"}],"name":"NOP"},{"salary":{"team-option":8620320,"guaranteed":58696086,"stretched":2517952,"player-option":21709045},"players":[{"salary":21000000,"player_status":"active","name":"Victor Oladipo","option":"guaranteed"},{"salary":13764045,"player_status":"active","name":"Thaddeus Young","option":"player-option"},{"salary":10500000,"player_status":"active","name":"Bojan Bogdanovic","option":"guaranteed"},{"salary":10000000,"player_status":"active","name":"Darren Collison","option":"guaranteed"},{"salary":10000000,"player_status":"active","name":"Al Jefferson","option":"guaranteed"},{"salary":7945000,"player_status":"active","name":"Cory Joseph","option":"player-option"},{"salary":4360000,"player_status":"active","name":"Lance Stephenson","option":"team-option"},{"salary":3410284,"player_status":"active","name":"Myles Turner","option":"guaranteed"},{"salary":2659800,"player_status":"active","name":"Domantas Sabonis","option":"team-option"},{"salary":2407560,"player_status":"active","name":"T.J. Leaf","option":"guaranteed"},{"salary":2245400,"player_status":"not-active","name":"Monta Ellis","option":"stretched"},{"salary":1600520,"player_status":"active","name":"Joe Young","option":"team-option"},{"salary":1378242,"player_status":"active","name":"Ike Anigbogu","option":"guaranteed"}],"freeAgents":[{"salary":2116955,"player_status":"active","name":"Damien Wilkins","option":"fa"},{"salary":1524305,"player_status":"active","name":"Glenn Robinson","option":"fa"},{"salary":1312611,"player_status":"active","name":"Jarrod Uthoff","option":"fa"},{"salary":1312611,"player_status":"active","name":"DeQuan Jones","option":"fa"},{"salary":815615,"player_status":"active","name":"Trey McKinney-Jones","option":"fa"},{"salary":815615,"player_status":"active","name":"Ben Moore","option":"fa"}],"name":"IND"},{"salary":{"team-option":5167231,"guaranteed":84225564,"stretched":333333,"player-option":0},"players":[{"salary":17000000,"player_status":"active","name":"Evan Fournier","option":"guaranteed"},{"salary":17000000,"player_status":"active","name":"Bismack Biyombo","option":"guaranteed"},{"salary":12750000,"player_status":"active","name":"Nikola Vucevic","option":"guaranteed"},{"salary":10500000,"player_status":"active","name":"Terrence Ross","option":"guaranteed"},{"salary":7250000,"player_status":"active","name":"D.J. Augustin","option":"guaranteed"},{"salary":6000000,"player_status":"active","name":"Jonathon Simmons","option":"guaranteed"},{"salary":6000000,"player_status":"active","name":"Shelvin Mack","option":"guaranteed"},{"salary":5167231,"player_status":"active","name":"Mario Hezonja","option":"team-option"},{"salary":4969080,"player_status":"active","name":"Jonathan Isaac","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Wesley Iwundu","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Khem Birch","option":"guaranteed"},{"salary":333333,"player_status":"not-active","name":"C.J. Watson","option":"stretched"}],"freeAgents":[{"salary":5504420,"player_status":"active","name":"Aaron Gordon","option":"fa"},{"salary":3332340,"player_status":"active","name":"Elfrid Payton","option":"fa"},{"salary":2328652,"player_status":"active","name":"Arron Afflalo","option":"fa"},{"salary":2116955,"player_status":"active","name":"Marreese Speights","option":"fa"},{"salary":1524305,"player_status":"active","name":"Damjan Rudez","option":"fa"},{"salary":1312611,"player_status":"active","name":"Kalin Lucas","option":"fa"},{"salary":815615,"player_status":"active","name":"Troy Caupain","option":"fa"}],"name":"ORL"},{"salary":{"team-option":14045426,"guaranteed":51493390,"stretched":6150762,"player-option":16739500},"players":[{"salary":19000000,"player_status":"active","name":"George Hill","option":"guaranteed"},{"salary":11692308,"player_status":"active","name":"Zach Randolph","option":"guaranteed"},{"salary":9000000,"player_status":"active","name":"Bogdan Bogdanovic","option":"guaranteed"},{"salary":8739500,"player_status":"active","name":"Kosta Koufos","option":"player-option"},{"salary":8000000,"player_status":"active","name":"Garrett Temple","option":"player-option"},{"salary":5407920,"player_status":"active","name":"De'Aaron Fox","option":"guaranteed"},{"salary":4696875,"player_status":"active","name":"Willie Cauley-Stein","option":"team-option"},{"salary":3833760,"player_status":"active","name":"Buddy Hield","option":"team-option"},{"salary":2807880,"player_status":"active","name":"Justin Jackson","option":"guaranteed"},{"salary":2400480,"player_status":"active","name":"Georgios Papagiannis","option":"team-option"},{"salary":2207040,"player_status":"active","name":"Harry Giles","option":"guaranteed"},{"salary":2133542,"player_status":"not-active","name":"Matt Barnes","option":"stretched"},{"salary":1569360,"player_status":"active","name":"Malachi Richardson","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Skal Labissiere","option":"team-option"},{"salary":1378242,"player_status":"active","name":"Frank Mason","option":"guaranteed"},{"salary":517220,"player_status":"not-active","name":"Caron Butler","option":"stretched"}],"freeAgents":[{"salary":8000000,"player_status":"active","name":"Vince Carter","option":"fa"},{"salary":815615,"player_status":"active","name":"Matt Jones","option":"fa"}],"name":"SAC"},{"salary":{"team-option":11192855,"guaranteed":57069104,"stretched":5500000,"player-option":12516746},"players":[{"salary":18500000,"player_status":"active","name":"Allen Crabbe","option":"guaranteed"},{"salary":16000000,"player_status":"active","name":"Timofey Mozgov","option":"guaranteed"},{"salary":15400000,"player_status":"active","name":"DeMarre Carroll","option":"guaranteed"},{"salary":12516746,"player_status":"active","name":"Jeremy Lin","option":"player-option"},{"salary":7019698,"player_status":"active","name":"D'Angelo Russell","option":"team-option"},{"salary":5500000,"player_status":"not-active","name":"Deron Williams","option":"stretched"},{"salary":2470357,"player_status":"active","name":"Rondae Hollis-Jefferson","option":"team-option"},{"salary":2034120,"player_status":"active","name":"Jarrett Allen","option":"guaranteed"},{"salary":1933941,"player_status":"active","name":"Tyler Zeller","option":"guaranteed"},{"salary":1702800,"player_status":"active","name":"Caris LeVert","option":"team-option"},{"salary":1656092,"player_status":"active","name":"Spencer Dinwiddie","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Isaiah Whitehead","option":"guaranteed"}],"freeAgents":[{"salary":9125000,"player_status":"active","name":"Trevor Booker","option":"fa"},{"salary":1709538,"player_status":"active","name":"Quincy Acy","option":"fa"},{"salary":1524305,"player_status":"active","name":"Sean Kilpatrick","option":"fa"},{"salary":1524305,"player_status":"active","name":"Joe Harris","option":"fa"},{"salary":815615,"player_status":"active","name":"Akil Mitchell","option":"fa"},{"salary":815615,"player_status":"active","name":"Milton Doyle","option":"fa"},{"salary":815615,"player_status":"active","name":"Jeremy Senglin","option":"fa"}],"name":"BRK"},{"salary":{"team-option":0,"guaranteed":84911080,"stretched":0,"player-option":0},"players":[{"salary":30431854,"player_status":"active","name":"James Harden","option":"guaranteed"},{"salary":20421546,"player_status":"active","name":"Ryan Anderson","option":"guaranteed"},{"salary":13500375,"player_status":"active","name":"Eric Gordon","option":"guaranteed"},{"salary":7969537,"player_status":"active","name":"P.J. Tucker","option":"guaranteed"},{"salary":3651480,"player_status":"active","name":"Nene Hilario","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Troy Williams","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Shawn Long","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Isaiah Taylor","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Chinanu Onuaku","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Zhou Qi","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Cameron Oliver","option":"guaranteed"}],"freeAgents":[{"salary":24599495,"player_status":"active","name":"Chris Paul","option":"fa"},{"salary":7420912,"player_status":"active","name":"Trevor Ariza","option":"fa"},{"salary":3290000,"player_status":"active","name":"Tarik Black","option":"fa"},{"salary":2334520,"player_status":"active","name":"Clint Capela","option":"fa"},{"salary":2116955,"player_status":"active","name":"Luc Mbah a Moute","option":"fa"},{"salary":1312611,"player_status":"active","name":"Tim Quarterman","option":"fa"}],"name":"HOU"},{"salary":{"team-option":11181805,"guaranteed":72034454,"stretched":500000,"player-option":0},"players":[{"salary":15000000,"player_status":"active","name":"Eric Bledsoe","option":"guaranteed"},{"salary":14631250,"player_status":"active","name":"Brandon Knight","option":"guaranteed"},{"salary":13585000,"player_status":"active","name":"Tyson Chandler","option":"guaranteed"},{"salary":9530000,"player_status":"active","name":"Jared Dudley","option":"guaranteed"},{"salary":6041520,"player_status":"active","name":"Josh Jackson","option":"guaranteed"},{"salary":5520000,"player_status":"active","name":"Alan Williams","option":"guaranteed"},{"salary":4661280,"player_status":"active","name":"Dragan Bender","option":"team-option"},{"salary":3314365,"player_status":"active","name":"Devin Booker","option":"team-option"},{"salary":3258540,"player_status":"active","name":"Troy Daniels","option":"guaranteed"},{"salary":3206160,"player_status":"active","name":"Marquese Chriss","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Tyler Ulis","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Derrick Jones","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Davon Reed","option":"guaranteed"}],"freeAgents":[{"salary":4187599,"player_status":"active","name":"Alex Len","option":"fa"},{"salary":3152931,"player_status":"active","name":"T.J. Warren","option":"fa"},{"salary":1524305,"player_status":"active","name":"Elijah Millsap","option":"fa"},{"salary":815615,"player_status":"active","name":"Peter Jok","option":"fa"}],"name":"PHO"},{"salary":{"team-option":0,"guaranteed":83572736,"stretched":0,"player-option":0},"players":[{"salary":23491573,"player_status":"active","name":"Rudy Gobert","option":"guaranteed"},{"salary":14975000,"player_status":"active","name":"Ricky Rubio","option":"guaranteed"},{"salary":13045455,"player_status":"active","name":"Joe Ingles","option":"guaranteed"},{"salary":11536515,"player_status":"active","name":"Alec Burks","option":"guaranteed"},{"salary":5250000,"player_status":"active","name":"Thabo Sefolosha","option":"guaranteed"},{"salary":4200000,"player_status":"active","name":"Jonas Jerebko","option":"guaranteed"},{"salary":3360000,"player_status":"active","name":"Ekpe Udoh","option":"guaranteed"},{"salary":3111480,"player_status":"active","name":"Donovan Mitchell","option":"guaranteed"},{"salary":1679520,"player_status":"active","name":"Tony Bradley","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Joel Bolomboy","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Royce O'Neale","option":"guaranteed"}],"freeAgents":[{"salary":12000000,"player_status":"active","name":"Derrick Favors","option":"fa"},{"salary":10505000,"player_status":"active","name":"Joe Johnson","option":"fa"},{"salary":4992385,"player_status":"active","name":"Dante Exum","option":"fa"},{"salary":2386864,"player_status":"active","name":"Rodney Hood","option":"fa"},{"salary":1471382,"player_status":"active","name":"Raul Neto","option":"fa"},{"salary":815615,"player_status":"active","name":"Naz Mitrou-Long","option":"fa"}],"name":"UTA"},{"salary":{"team-option":16699249,"guaranteed":45369454,"stretched":0,"player-option":20265474},"players":[{"salary":29730769,"player_status":"active","name":"Paul Millsap","option":"guaranteed"},{"salary":13764045,"player_status":"active","name":"Kenneth Faried","option":"guaranteed"},{"salary":12800562,"player_status":"active","name":"Wilson Chandler","option":"player-option"},{"salary":7464912,"player_status":"active","name":"Darrell Arthur","option":"player-option"},{"salary":4294480,"player_status":"active","name":"Emmanuel Mudiay","option":"team-option"},{"salary":3499800,"player_status":"active","name":"Jamal Murray","option":"team-option"},{"salary":3364249,"player_status":"active","name":"Trey Lyles","option":"team-option"},{"salary":2166360,"player_status":"active","name":"Juan Hernangomez","option":"team-option"},{"salary":1874640,"player_status":"active","name":"Tyler Lydon","option":"guaranteed"},{"salary":1773840,"player_status":"active","name":"Malik Beasley","option":"team-option"},{"salary":1600520,"player_status":"active","name":"Nikola Jokic","option":"team-option"}],"freeAgents":[{"salary":4736050,"player_status":"active","name":"Jameer Nelson","option":"fa"},{"salary":3533333,"player_status":"active","name":"Will Barton","option":"fa"},{"salary":2550055,"player_status":"active","name":"Gary Harris","option":"fa"}],"name":"DEN"},{"salary":{"team-option":4161480,"guaranteed":52857111,"stretched":6856567,"player-option":11300000},"players":[{"salary":18089887,"player_status":"active","name":"Kent Bazemore","option":"guaranteed"},{"salary":15500000,"player_status":"active","name":"Dennis Schroder","option":"guaranteed"},{"salary":12500000,"player_status":"active","name":"Miles Plumlee","option":"guaranteed"},{"salary":6300000,"player_status":"active","name":"Dewayne Dedmon","option":"player-option"},{"salary":5000000,"player_status":"active","name":"Mike Muscala","option":"player-option"},{"salary":2526840,"player_status":"active","name":"Taurean Waller-Prince","option":"team-option"},{"salary":2304226,"player_status":"not-active","name":"Jamal Crawford","option":"stretched"},{"salary":2299080,"player_status":"active","name":"John Collins","option":"guaranteed"},{"salary":1634640,"player_status":"active","name":"DeAndre' Bembry","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Quinn Cook","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Nicolas Brussino","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Tyler Dorsey","option":"guaranteed"}],"freeAgents":[{"salary":6606060,"player_status":"active","name":"Marco Belinelli","option":"fa"},{"salary":6000000,"player_status":"active","name":"Ersan Ilyasova","option":"fa"},{"salary":2500000,"player_status":"active","name":"Malcolm Delaney","option":"fa"},{"salary":1974159,"player_status":"active","name":"Luke Babbitt","option":"fa"},{"salary":815615,"player_status":"active","name":"Jordan Mathews","option":"fa"}],"name":"ATL"},{"salary":{"team-option":5000000,"guaranteed":45987526,"stretched":315760,"player-option":18622514},"players":[{"salary":24107258,"player_status":"active","name":"Harrison Barnes","option":"guaranteed"},{"salary":18622514,"player_status":"active","name":"Wesley Matthews","option":"player-option"},{"salary":9631250,"player_status":"active","name":"Dwight Powell","option":"guaranteed"},{"salary":5000000,"player_status":"active","name":"Dirk Nowitzki","option":"team-option"},{"salary":3819960,"player_status":"active","name":"Dennis Smith","option":"guaranteed"},{"salary":3710850,"player_status":"active","name":"J.J. Barea","option":"guaranteed"},{"salary":1795015,"player_status":"active","name":"Jeff Withey","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Dorian Finney-Smith","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Maxi Kleber","option":"guaranteed"}],"freeAgents":[{"salary":6021175,"player_status":"active","name":"Josh McRoberts","option":"fa"},{"salary":4402546,"player_status":"active","name":"Devin Harris","option":"fa"},{"salary":4187599,"player_status":"active","name":"Nerlens Noel","option":"fa"},{"salary":3028410,"player_status":"active","name":"Seth Curry","option":"fa"},{"salary":1471382,"player_status":"active","name":"Maalik Wayns","option":"fa"},{"salary":1471382,"player_status":"active","name":"Salah Mejri","option":"fa"},{"salary":1312611,"player_status":"active","name":"Yogi Ferrell","option":"fa"},{"salary":815615,"player_status":"active","name":"Brandon Ashley","option":"fa"},{"salary":815615,"player_status":"active","name":"PJ Dozier","option":"fa"},{"salary":815615,"player_status":"active","name":"Gian Clavell","option":"fa"}],"name":"DAL"},{"salary":{"team-option":14898555,"guaranteed":33294417,"stretched":19000000,"player-option":0},"players":[{"salary":14357750,"player_status":"active","name":"Robin Lopez","option":"guaranteed"},{"salary":8470980,"player_status":"active","name":"Cristiano Felicio","option":"guaranteed"},{"salary":4536120,"player_status":"active","name":"Lauri Markkanen","option":"guaranteed"},{"salary":4384616,"player_status":"active","name":"Justin Holiday","option":"guaranteed"},{"salary":4221000,"player_status":"active","name":"Kris Dunn","option":"team-option"},{"salary":3263295,"player_status":"active","name":"Cameron Payne","option":"team-option"},{"salary":2639314,"player_status":"active","name":"Jerian Grant","option":"team-option"},{"salary":2494346,"player_status":"active","name":"Bobby Portis","option":"team-option"},{"salary":2280600,"player_status":"active","name":"Denzel Valentine","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Paul Zipser","option":"guaranteed"}],"freeAgents":[{"salary":3853931,"player_status":"active","name":"Quincy Pondexter","option":"fa"},{"salary":3202217,"player_status":"active","name":"Zach LaVine","option":"fa"},{"salary":1312611,"player_status":"active","name":"David Nwaba","option":"fa"},{"salary":815615,"player_status":"active","name":"Jaylen Johnson","option":"fa"}],"name":"CHI"},{"salary":{"team-option":8029511,"guaranteed":45886245,"stretched":0,"player-option":0},"players":[{"salary":18000000,"player_status":"active","name":"Luol Deng","option":"guaranteed"},{"salary":12500000,"player_status":"active","name":"Jordan Clarkson","option":"guaranteed"},{"salary":7461960,"player_status":"active","name":"Lonzo Ball","option":"guaranteed"},{"salary":5757120,"player_status":"active","name":"Brandon Ingram","option":"team-option"},{"salary":2272391,"player_status":"active","name":"Larry Nance Jr.","option":"team-option"},{"salary":1689840,"player_status":"active","name":"Kyle Kuzma","option":"guaranteed"},{"salary":1656092,"player_status":"active","name":"Tyler Ennis","option":"guaranteed"},{"salary":1655160,"player_status":"active","name":"Josh Hart","option":"guaranteed"},{"salary":1544951,"player_status":"active","name":"Ivica Zubac","option":"guaranteed"},{"salary":1378242,"player_status":"active","name":"Thomas Bryant","option":"guaranteed"}],"freeAgents":[{"salary":22642350,"player_status":"active","name":"Brook Lopez","option":"fa"},{"salary":17745894,"player_status":"active","name":"Kentavious Caldwell-Pope","option":"fa"},{"salary":7579366,"player_status":"active","name":"Corey Brewer","option":"fa"},{"salary":4149242,"player_status":"active","name":"Julius Randle","option":"fa"},{"salary":2328652,"player_status":"active","name":"Andrew Bogut","option":"fa"},{"salary":1471382,"player_status":"active","name":"Vander Blue","option":"fa"},{"salary":1471382,"player_status":"active","name":"Briante Weber","option":"fa"},{"salary":1312611,"player_status":"active","name":"Stephen Zimmerman","option":"fa"},{"salary":815615,"player_status":"active","name":"V.J. Beachem","option":"fa"}],"name":"LAL"},{"salary":{"team-option":22537231,"guaranteed":18655796,"stretched":1500000,"player-option":0},"players":[{"salary":8575916,"player_status":"active","name":"Jerryd Bayless","option":"guaranteed"},{"salary":8339880,"player_status":"active","name":"Markelle Fultz","option":"guaranteed"},{"salary":6434520,"player_status":"active","name":"Ben Simmons","option":"team-option"},{"salary":6313832,"player_status":"active","name":"Jahlil Okafor","option":"team-option"},{"salary":2526840,"player_status":"active","name":"Dario Saric","option":"team-option"},{"salary":2516048,"player_status":"active","name":"Justin Anderson","option":"team-option"},{"salary":1740000,"player_status":"active","name":"Furkan Korkmaz","option":"guaranteed"},{"salary":1600520,"player_status":"active","name":"T.J. McConnell","option":"team-option"},{"salary":1600520,"player_status":"active","name":"Richaun Holmes","option":"team-option"},{"salary":1544951,"player_status":"active","name":"Timothe Luwawu-Cabarrot","option":"team-option"}],"freeAgents":[{"salary":23000000,"player_status":"active","name":"J.J. Redick","option":"fa"},{"salary":11000000,"player_status":"active","name":"Amir Johnson","option":"fa"},{"salary":6100266,"player_status":"active","name":"Joel Embiid","option":"fa"},{"salary":3807146,"player_status":"active","name":"Nik Stauskas","option":"fa"},{"salary":1577230,"player_status":"active","name":"Robert Covington","option":"fa"},{"salary":815615,"player_status":"active","name":"Jacob Pullen","option":"fa"},{"salary":815615,"player_status":"active","name":"James Blackmon","option":"fa"}],"name":"PHI"}];
  teamData = data;
  initSalaryAxes(data);
  d3.select(".yAxis").call(d3.axisLeft(salaryToY));
  d3.select(".xAxis").call(d3.axisBottom(xAxis));
  drawSalary(data);
  drawLegend(data);

  function initSalaryAxes(data) {
    salaryToY.domain([0, d3.max(data, d => sum(d.salary)) + axisPadding]); 
    xAxis.domain(data.map(d => d.name)).range([0, width]);
  }

  function drawLegend(data) {
    
    var legendContainer = salarySvg.append("g")
                          .attr("font-family", "sans-serif")
                          .attr("font-size", 10)
                          .attr("text-anchor", "end")
                          .attr("transform", translate(98, margin.left / 2 + 10))

    var legend = legendContainer.selectAll("g")
                   .data(optionKeys.slice().reverse())
                   .enter()
                   .append("g")
                   .attr("transform", (d, i) => translate(0, i * 20))

    legend.append("rect")
          .attr("x", width - 19)
          .attr("width", 19)
          .attr("height", 19)
          .attr("fill", optionsToColors)

    legend.append("text")
          .attr("x", width - 24)
          .attr("y", 9.5)
          .attr("dy", "0.32em")
          .text(d => d)

  }

  function drawSalary(data) {

    salaryStack = toStack(optionKeys, data);

    var salaryGroups = graphContainer.selectAll("g") 
                                  .data(salaryStack)
                                  .enter()
                                  .append("g")
                                  .attr("fill", d => optionsToColors(d.key))
                                  .attr("class", "salaryRect")

    var salaryBars = salaryGroups.selectAll("rect")
                                 .data(d => d)
                                 .enter()
                                 .append("g")
                                 .style("cursor", "pointer")
                                 .on("click", (d, i) => drawChildren(data[i]))
 
    salaryBars.append("rect")
              .attr("y", function(d) { return salaryToY(d[1]); })
              .attr("height", function(d) { return salaryToY(d[0]) - salaryToY(d[1]); })
              .transition().duration(duration)
              .attr("width", xAxis.bandwidth())

    salaryBars.transition().duration(duration)
              .attr("transform", (d, i) => translate(xAxis(data[i].name), 0))

    /* Draw Salary Cap Line */
    
    var capLine = graphContainer.append("g")
                  .attr("class", "capLine")

    capLine.append("line")
           .attr("fill", "orange")
           .attr("x1", 0)
           .attr("y1", d => salaryToY(projectedCap))
           .attr("x2", 0)
           .attr("y2", d => salaryToY(projectedCap))

    capLine.append("text")
           .attr("transform", translate(0, salaryToY(projectedCap + 1750000)))
           .text("Projected Cap: $103m")

    d3.select(".capLine line").transition().duration(duration).attr("x2", width);
    d3.select(".capLine text").transition().duration(duration).attr("transform", translate(width - 170, salaryToY(projectedCap + 1750000)));
  }    

  function drawChildren(team) {

    var players = team.players;
    
    var newWidth = width * scale;
    salarySvg.attr("width", newWidth + margin.left + margin.right);

    /* reset axes */
    var maxSalary = d3.max(players, d => d.salary);
    salaryToY.domain([0, maxSalary + axisPadding]);

    d3.select(".yAxis").transition().duration(duration).call(d3.axisLeft(salaryToY));

    xAxis.domain(players.map(d => d.name)).range([0, newWidth]);
    d3.select(".xAxis").transition().duration(duration).call(d3.axisBottom(xAxis))

    d3.selectAll(".xAxis text").transition().duration(duration).attr("y", 0)
                               .attr("x", 9)
                               .attr("dy", ".35em")
                               .attr("transform", "rotate(90)")
                               .style("text-anchor", "start")

    var exitBars = graphContainer.selectAll(".salaryRect").remove();
    var exitLine = graphContainer.select(".capLine").remove();

    var enterBars = graphContainer.selectAll("rect")
                  .data(players)
                  .enter()
                  .append("rect")
                  .attr("class", "playerRect")
                  .attr("width", xAxis.bandwidth())
                  .attr("y", d => salaryToY(d.salary))
                  .attr("height", d => (height - salaryToY(d.salary)))
                  .attr("fill", d => optionsToColors(d.option))

    enterBars.transition().duration(duration)
                  .attr("transform", d => translate(xAxis(d.name), 0))

    // TODO: style this better
    graphContainer.append("text")
                  .attr("transform", translate(10, 25))
                  .style("cursor", "pointer")
                  .text("<-- Back to Team Salaries")
                  .on("click", function() {
                    graphContainer.selectAll(".playerRect").remove();
                    d3.select("#freeAgents").selectAll(".teamSalaryBar").remove();
                    d3.select("#sliders").select("ul").remove()
                    d3.select("#freeAgents").select('.yAxis').remove();
                    d3.select(this).remove();
                    resetSalary();
                    drawSalary(teamData);
                  })

      drawFreeAgents(team);
    }    


    function resetSalary() {
      salarySvg.attr("width", width + margin.left + margin.right);
      initSalaryAxes(teamData);
      d3.select(".yAxis").transition().duration(duration).call(d3.axisLeft(salaryToY));
      d3.select(".xAxis").transition().duration(duration).call(d3.axisBottom(xAxis));
    }

  function drawFreeAgents(team) {
    var origWidth = window.screen.width;
    var leftoverWidth = 140;

    var faSvg = d3.select("#freeAgents").attr("width", leftoverWidth).attr("height", height + margin.top + margin.bottom);

    var salaries = team.salary;

    var faSalaries = team.freeAgents.map(d => d.salary);
    salaries['free-agent'] = faSalaries.reduce((a, b) => a +b );

    var newKeys = optionKeys.slice();
    newKeys.push('free-agent');

    var faColors = optionColors.slice();
    faColors.push("#D3D3D3");
    var faOptionToColor = d3.scaleOrdinal().domain(newKeys).range(faColors);

    var salaryStack = d3.stack().keys(newKeys).order(d3.stackOrderNone).offset(d3.stackOffsetNone);
    var salarySeries = salaryStack([salaries]);

    var freeAgentContainer = faSvg.append("g")
                                  .attr("transform", translate(80, margin.top))
                                  .attr("class", "teamSalaryBar")

    var faSalaryToY = d3.scaleLinear().range([height, 0]).domain([0, 175000000]);

    faSvg.append("g")
         .attr("class", "yAxis")
         .attr("transform", translate(70, margin.top))
         .call(d3.axisLeft(faSalaryToY));

    freeAgentContainer.append("g")
                      .selectAll("g")
                      .data(salarySeries)
                      .enter()
                      .append("rect")
                      .attr("fill", d => faOptionToColor(d.key))
                      .attr("x", 0)
                      .attr("y", function(d) { return faSalaryToY(d[0][1]) })
                      .attr("height", function(d) { return faSalaryToY(d[0][0]) - faSalaryToY(d[0][1])})
                      .attr("width", 30)

    freeAgentContainer.append("g")
                      .attr("transform", translate(-10, 0))
                      .attr("class", "capLine")
                      .append("line") 
                      .attr("x1", 0)
                      .attr("y1", d => faSalaryToY(projectedCap))
                      .attr("x2", 50)
                      .attr("y2", d => faSalaryToY(projectedCap))

    var label = d3.select("#sliders").append("ul").selectAll("input").data(team.freeAgents).enter()
                                .append("li")
                                .append("label")
                                    .attr('for', d => toId(d.name))
                                    .text(d => d.name)

        label.append("input")
             .attr("type", "text")
             .attr("class", "inputValue")
             .attr("id", d => toId(d.name))
             .attr("value", d => parseInt(d.salary))
             .on("change", function() {
                var playerName = this.parentElement.textContent;
                var newValue = parseInt(this.value);

                // change the value of the slider input
                var input = $('.inputSlider#' + toId(playerName))[0];
                input.value = newValue;    
             })

        label.append("input")
              .attr("type", "range")
              .attr("min", 0)
              .attr("max", 30000000)
              .attr("class", "inputSlider")
              .attr("value", d => d['salary'])
              .attr("id", d => toId(d['name']))
              .on("change", function() {
                  var playerName = this.parentElement.textContent;
                  var newValue = parseInt(this.value);
                  updateFreeAgentData(playerName, newValue);

                  // change the value of the text input
                  var input = $('.inputValue#' + toId(playerName))[0];
                  input.value = newValue;                  
              })

      function updateFreeAgentData(playerName, newValue) {
        for (var i = 0; i < team.freeAgents.length; i++){
            var elem = team.freeAgents[i];
            if (elem.name == playerName) {
                console.log('here');
                elem.salary = newValue;
            }
        }

        faSvg.select('.teamSalaryBar').remove();
        d3.select('#sliders ul').remove();
        faSvg.select('.yAxis').remove();
        drawFreeAgents(team); 
      }
  }

</script>





    <!-- Documents about icons are here: http://fontawesome.io/icons/ -->
<div class="footer">
  <hr />
  <div class="footer-link">
    
	
	
	
	

    

    
	
	
	
	

    
    <a href="https://www.linkedin.com/in/jzhang621"><i class="fa fa-linkedin" aria-hidden="true"></i></a>
    
	
	
	
	
	
	
	
	

    

    

    

  </div>
  © 2017 Kiko. All rights reserved.
</div>

</body>
</html>
